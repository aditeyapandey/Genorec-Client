{"ast":null,"code":"import { createTree } from './createTree';\n/**\n * Similarity between two nodes\n * @param {Tree|Array<Array<number>>} a - tree A node\n * @param {Tree|Array<Array<number>>} b - tree B node\n * @param {object} [options]\n * @return {number} similarity measure between tree nodes\n */\n\nexport function getSimilarity(a, b, options = {}) {\n  const {\n    alpha = 0.1,\n    beta = 0.33,\n    gamma = 0.001\n  } = options;\n\n  if (a === null || b === null) {\n    return 0;\n  }\n\n  if (Array.isArray(a)) {\n    a = createTree(a);\n  }\n\n  if (Array.isArray(b)) {\n    b = createTree(b);\n  }\n\n  var C = alpha * Math.min(a.sum, b.sum) / Math.max(a.sum, b.sum) + (1 - alpha) * Math.exp(-gamma * Math.abs(a.center - b.center));\n  return beta * C + (1 - beta) * (getSimilarity(a.left, b.left, options) + getSimilarity(a.right, b.right, options)) / 2;\n}","map":{"version":3,"sources":["/Users/aditeyapandey/Documents/Genorec-Engine/node_modules/ml-tree-similarity/src/getSimilarity.js"],"names":["createTree","getSimilarity","a","b","options","alpha","beta","gamma","Array","isArray","C","Math","min","sum","max","exp","abs","center","left","right"],"mappings":"AAAA,SAASA,UAAT,QAA2B,cAA3B;AAEA;;;;;;;;AAOA,OAAO,SAASC,aAAT,CAAuBC,CAAvB,EAA0BC,CAA1B,EAA6BC,OAAO,GAAG,EAAvC,EAA2C;AAChD,QAAM;AAAEC,IAAAA,KAAK,GAAG,GAAV;AAAeC,IAAAA,IAAI,GAAG,IAAtB;AAA4BC,IAAAA,KAAK,GAAG;AAApC,MAA8CH,OAApD;;AAEA,MAAIF,CAAC,KAAK,IAAN,IAAcC,CAAC,KAAK,IAAxB,EAA8B;AAC5B,WAAO,CAAP;AACD;;AACD,MAAIK,KAAK,CAACC,OAAN,CAAcP,CAAd,CAAJ,EAAsB;AACpBA,IAAAA,CAAC,GAAGF,UAAU,CAACE,CAAD,CAAd;AACD;;AACD,MAAIM,KAAK,CAACC,OAAN,CAAcN,CAAd,CAAJ,EAAsB;AACpBA,IAAAA,CAAC,GAAGH,UAAU,CAACG,CAAD,CAAd;AACD;;AAED,MAAIO,CAAC,GACFL,KAAK,GAAGM,IAAI,CAACC,GAAL,CAASV,CAAC,CAACW,GAAX,EAAgBV,CAAC,CAACU,GAAlB,CAAT,GAAmCF,IAAI,CAACG,GAAL,CAASZ,CAAC,CAACW,GAAX,EAAgBV,CAAC,CAACU,GAAlB,CAAnC,GACA,CAAC,IAAIR,KAAL,IAAcM,IAAI,CAACI,GAAL,CAAS,CAACR,KAAD,GAASI,IAAI,CAACK,GAAL,CAASd,CAAC,CAACe,MAAF,GAAWd,CAAC,CAACc,MAAtB,CAAlB,CAFhB;AAIA,SACEX,IAAI,GAAGI,CAAP,GACC,CAAC,IAAIJ,IAAL,KACEL,aAAa,CAACC,CAAC,CAACgB,IAAH,EAASf,CAAC,CAACe,IAAX,EAAiBd,OAAjB,CAAb,GACCH,aAAa,CAACC,CAAC,CAACiB,KAAH,EAAUhB,CAAC,CAACgB,KAAZ,EAAmBf,OAAnB,CAFhB,CAAD,GAGE,CALJ;AAOD","sourcesContent":["import { createTree } from './createTree';\n\n/**\n * Similarity between two nodes\n * @param {Tree|Array<Array<number>>} a - tree A node\n * @param {Tree|Array<Array<number>>} b - tree B node\n * @param {object} [options]\n * @return {number} similarity measure between tree nodes\n */\nexport function getSimilarity(a, b, options = {}) {\n  const { alpha = 0.1, beta = 0.33, gamma = 0.001 } = options;\n\n  if (a === null || b === null) {\n    return 0;\n  }\n  if (Array.isArray(a)) {\n    a = createTree(a);\n  }\n  if (Array.isArray(b)) {\n    b = createTree(b);\n  }\n\n  var C =\n    (alpha * Math.min(a.sum, b.sum)) / Math.max(a.sum, b.sum) +\n    (1 - alpha) * Math.exp(-gamma * Math.abs(a.center - b.center));\n\n  return (\n    beta * C +\n    ((1 - beta) *\n      (getSimilarity(a.left, b.left, options) +\n        getSimilarity(a.right, b.right, options))) /\n      2\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
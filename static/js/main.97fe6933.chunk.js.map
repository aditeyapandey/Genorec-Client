{"version":3,"sources":["../../Genorec-Engine/src/utils.js","../../Genorec-Engine/src/modelDataProcessing.js","../../Genorec-Engine/src/inputspec.js","assets/interconnection_none.png","assets/interconnection_between.png","assets/pointsparse.png","assets/segmentcontiguous.png","assets/segmentsparse.png","assets/pointcontiguous.png","../../Genorec-Engine/src/index.js","../../Genorec-Engine/src/s1_en.js","../../Genorec-Engine/src/s2_ca.js","../../Genorec-Engine/src/s3_ls.js","../../Genorec-Engine/src/s4_al.js","../../Genorec-Engine/src/s5_ar.js","../../Genorec-Engine/src/outputspec.js","assets sync /^/.//.*$","assets/annotation.jpg","assets/areachart.pdf","assets/areahue.jpg","assets/areasaturation.jpg","assets/areasize.jpg","assets/barhue.jpg","assets/barsaturation.jpg","assets/barsize.jpg","assets/circular.jpg","assets/dotplot.jpg","assets/linear.jpg","assets/linechart.jpg","assets/multifeature.jpeg","assets/multifeatures.png","assets/multipleattributes.png","assets/multiplefeatures.png","assets/multipleroi.jpeg","assets/multipleroi.png","assets/multiplesequences.png","assets/multisequences.jpeg","assets/multisequences.png","assets/singleroi.jpeg","assets/singleroi.png","assets/summarize.png","assets/test.png","Recommendation/color.js","Recommendation/encoding.js","Recommendation/ideogram.js","Recommendation/convert.js","Recommendation/recommendation.js","Inputpage/inputspec.js","global/globalvar.js","Inputpage/createdomcomponents.js","Inputpage/Inputpage.js","App.js","index.js"],"names":["dsMetric","require","cartesian","args","r","max","length","helper","arr","i","j","l","a","slice","push","uniformizeLayoutPrediction","vis","layout","testVis","JSON","parse","map","val","arrayToObject","array","keyField","reduce","obj","item","module","exports","productProperties","model","vectorKeys","getProductProperties","productKeys","Object","keys","currentProduct","tempgetProductProperties","parseInt","computeSimilarity","inputVectorObject","productVector","inpVec","resultSimilarity","key","proVec","similarity","recommendedProducts","similarityScores","values","Math","sort","b","getVisOptions","tracks","visOptions","index","localTrackPossilities","every","val1","console","log","uniformizeSingleFeaturePrediction","returnVisOptions","predictedLayout","stringify","mode","modeMap","maxEl","maxCount","el","checkDuplicates","inputArray","output","splice","forEach","element","stage1Model","stage3Model","stage5Model","stage1ModelObj","stage3ModelObj","stage5ModelObj","model1","model3","model5","data","GLOBAL_INDEX_DATA","Sequence","sequenceName","sequenceId","features","featureIndex","interFeatureTasks","feature","Features","featureGranularity","featureDensity","featureLabel","featureInterconnection","denseInterconnection","intraFeatureTasks","featureId","interactivity","attributes","attributeIndex","indexOf","attr","attribute","Attributes","attrId","dataDescriptor","dataType","intraAttrTask","Array","isArray","interAttrTask","Dataspec","dataSpec","intraSequenceTask","denseConnection","sparseConnection","sequences","sequence","encodeAttribute","getTracks","getLayout","getAlignment","getArrangment","RecommendationSpec","getRecommendation","param","dataspec","sequenceInputArrays","sequencesOutput","currentSequence","attributeEncoding","layoutForTracks","tempVisArray","cartesianCombinationsVisOptions","arrangements","option","recommendation","arrangement","recommendationSpec","recommendationSpecNonDuplicates","createInputVector","stage1Output","currentFeature","tempAttributeStorage","attrCombination","superimposition","getPossibilities","allEncoding","similarityScore","encodingRecommendations","encoding","encodingOptions","finalEncodingCombination","x","set","combineLogic","finalSuperimposed","superimposeLogic","innerElement","trackId","innerInner","canCombine","listOfCombinedAttr","undefined","visited","combinationNotFound","assign","canSuperimposed","allcombinations","v","finalSuperImposed","superImpositionNotFound","addSuperImposed","aEncoding","bEncoding","encodingSpecification","featureKeys","trackList","trackPossibilities","returnTrackSpec","models","channels","featureData","createTrackInputVector","stage2Output","trackInputVectors","trackCombinationInputVector","trackCombinations","k","inputVector","encodings","trackLayoutOutput","interconnection","trackLayoutRecommendation","predictionScores","tLRecommendation","layoutRecommendation","predictionScore","c","p","featureAvailability","checkForSuperImposition","featureArray","cartesianFeatureArray","cartesianEncodings","innerInnerElement","returnIndex","encodingSuperImposable","layouts","tasks","featureUsed","stacked","superImpose","compare","featureList","featureObjectForSuperImposition","valuesToPush","elemtnVal","superImposedFeatures","flat","tempString","correlate","browse","featuresForSuperImposition","entries","input","dense","sparse","layoutCollection","addElementsToOuput","connectedNodes","edgeValue","sequenceConservation","systemoutput","arrangementName","visDetails","sequenceInterconnection","sequenceConnection","connectionType","typeOfInterconnection","trackAlignment","granularity","availability","groupingTechnique","combined","recommendationStage","Groups","Tracks","Arrangement","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","resolve","getSampleColor","SINGLE_COLOR","EXAMPLE_DATASETS","getMultivecData","url","type","row","column","value","categories","from","d","binSize","dataTransform","filter","field","oneOf","not","inRange","encodingToGoslingTrack","width","title","base","style","outlineWidth","height","mark","y","color","xe","stroke","strokeWidth","opacity","size","chromosomeField","genomicFields","x1","x1e","text","outline","static","error","background","getIdeogram","A","B","block","linkingId","GET_SEQUENCES_KEY","recommendation_n","GET_TRACK_GROUPS_KEY","Sequence_n","GET_TRACKS_KEY","TrackGroup_n","GET_ATTRIBUTES_KEY","Track_n","Recommendation","React","memo","props","className","genoRec","baseWidth","hasSingleRoi","includes","compareMultipleRoi","compareMultipleAttr","xDomain","xDomain2","chromosome","goslings","GOS_VIEW","assembly","centerRadius","views","sequencesKey","sequencesObj","get","numOfTracks","sequenceObj","viewLayout","trackGroupsKey","trackGroupsObj","trackGroup_n","trackGroup","tracksKey","tracksObj","Track_i","attributesKey","attributesObj","Attribute_n","Attribute_i","warn","join","isAxisShown","overlayOnPreviousTrack","spacing","find","view","track","xLinkingId","convert","spec","v1","createInputSpec","dataDescription","taskList","localDataDescription","fileIds","assemblyBuilds","denseInterConnection","sparseInterConnection","fileId","inputConfigData","featureDescription","assemblyBuildCounts","featureInterconnectionDense","checkInterconnection","assemblyIndex","inputAttrCounts","attrs","recommendationInputSpec","seqName","seqid","featureConnection","featureName","fId","fName","split","toLowerCase","globalAttrIndex","attributeType","getAttributes","getFeatures","getSequences","specStructure","assemblies","assemblyCount","featureCountMax","attributeCountMax","task","taskAssemblyReq","featureReq","attributeReq","activateTasks","inputFileFormats","bigwig","bed","bedpe","seg","vcf","cooler","fileInputFieldsActive","assembly1","assembly2","defaultInputForFiles","quant","cat","fileType","taskLabel","image","taskInfo","disabled","minAssembly","minFeature","minAttr","selected","createDropDownList","disabledVal","fileid","defaultValue","componentid","onChangeAssemblyBuild","buildNames","name","onChange","event","target","genorecEngine","Inputpage","state","minFiles","maxFiles","totalFiles","dataCardsinRow","inputConfigurationData","showTaskPanel","showRecommendation","recommendationButtonString","recommendationNotPossible","selectedTaskOption","orderedDataDescriptionBoxes","screenHeight","window","innerHeight","recommendationOutputSpec","onChangeFileQuantity","bind","createDivForFileInput","onChangeFileDataUpdate","reAlignTheIndexes","toggleTaskCardSelection","getRecommendationOutput","handleRecommendationClick","dataFileTypesAdded","dataDescriptionBoxes","finalRecommendationOutputSpec","sum","parseFloat","indexes","updatedFileType","updatedCount","currentDataConfigurationInput","this","currentCount","lengthOfAddedDatasets","orderedDataIndex","floor","dataDescriptionBox","removeIndex","getAllIndexes","elem","document","querySelector","remove","recommendationOutput","countTotalFiles","setState","tempDescriptionBoxes","rowIndex","addtionalInput","configurationData","fileCount","currentRecommendationOutput","toUpperCase","min","fileTypeToCaps","activeFields","dataTypeInput","dataTypeInputOpacity","defaultValues","class","aria-hidden","handleChangeEvent","textorcatVals","createDataTypeInput","pointSelected","segmentSelected","handleOnClick","partialid","selectedid","unselectedid","getElementById","setAttribute","updatedValue","src","alt","onClick","createGranularityInput","continousSelected","sparseSelected","createAvailablityInput","noNetworkSelected","networkSelected","createNetworkInput","taskLists","stateTaskVal","inputTaskVal","activeTasks","classNameVar","selectedClass","checked","allCards","createTaskCards","fileFormatDivs","taskCards","createHTMLLayoutTasks","display","Component","Header","Footer","clear","href","rel","App","currentState","nextState","ReactDOM","render"],"mappings":"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","file":"static/js/main.97fe6933.chunk.js","sourcesContent":["//https://github.com/mljs/distance#ml-distance\n\nvar dsMetric = require(\"ml-distance\")\nvar metric=\"tanimoto\"\n\nfunction getProductProperties(model,vectorKeys){\n  var getProductProperties = []\n\n  var productKeys = Object.keys(model)\n\n  for (var i=0;i<productKeys.length;i++)\n  {\n    var currentProduct = productKeys[i]\n    var tempgetProductProperties = {}\n\n    tempgetProductProperties[currentProduct]=[]\n    vectorKeys.map(val => {\n      tempgetProductProperties[currentProduct].push(parseInt(model[currentProduct][val]))\n    })\n    getProductProperties.push(tempgetProductProperties)\n  }\n  return getProductProperties\n}\n\n// Description: Calculate the recommendation\n// Input: product and input vector\n// Output: similarity score corresponding to each output\nfunction computeSimilarity(inputVectorObject,productVector){\n  var inpVec = inputVectorObject[\"inputArray\"]\n  var resultSimilarity = {}\n  for (var i =0;i<productVector.length;i++){\n    var obj = productVector[i];\n    var key = Object.keys(obj)[0]\n    var proVec = obj[key]\n    var similarity = dsMetric.similarity[metric](inpVec,proVec)\n    resultSimilarity[key] = similarity\n  }\n  return resultSimilarity\n}\n\n//Input: An object with vis techniques as keys and similarity scores. Additionally, key for the similarity metric to use.\n//Output: Array of recommendation. The array allows for mutiple output in the cases where the scores are exactly similar.\nfunction recommendedProducts (similarityScores)\n{\n  \n  let arr = Object.values(similarityScores);\n\n  let max = Math.max(...arr);\n  var recommendedProducts = []\n  var secondHighest = arr.sort(function(a, b) { return b - a; })[1];\n\n  Object.keys(similarityScores).map((val) => {\n    if(similarityScores[val] == max) {recommendedProducts.push(val) }\n  })\n\n\n  // //To add more recommendation objects\n  // if(recommendedProducts.length==1){\n  //   Object.keys(similarityScores).map((val) => {\n  //     if(similarityScores[val] == secondHighest && secondHighest>0.50) {recommendedProducts.push(val) }\n  //   })\n  \n  // }\n\n  return recommendedProducts\n}\n\n//Description: Test function to evaluate combinations of attributes\n//Input: Array of arrays that have to be combined\n//Output: All possible combinations of the arrays\nfunction cartesian(args) {\n  var r = [], max = args.length-1;\n  function helper(arr, i) {\n      for (var j=0, l=args[i].length; j<l; j++) {\n          var a = arr.slice(0); // clone arr\n          a.push(args[i][j]);\n          if (i==max)\n              r.push(a);\n          else\n              helper(a, i+1);\n      }\n  }\n  helper([], 0);\n  return r;\n}\n\n//Input: Object of features. Each feature consists of an array of elements. \n//Output: Merge by performing a cartesian product. \n//Output Schema: {'visid':[a:{information},b,c], 'visid2':[a,b]} \n//Information: {featureid:[] ,encoding/s:[], layoutrecommendation} \nfunction getVisOptions(tracks)\n{\n  var features = Object.keys(tracks)\n  var trackPossibilitiesArray = features.map((val,i) =>{\n    var index = i\n    var localTrackPossilities = tracks[val]['trackPossibilities']\n    localTrackPossilities.every((val1) => {\n      return val1[\"featureId\"] = \"feature_\"+index\n    })\n    return localTrackPossilities\n  })\n\n  var visOptions = cartesian(trackPossibilitiesArray) \n\n  if(visOptions.every(val => val.length==1)){\n    let tempVisOptions = [...visOptions]\n    let predictedLayout = uniformizeSingleFeaturePrediction(tempVisOptions)\n  }\n  \n  var returnVisOptions = {}\n\n  for (var j=0;j<visOptions.length;j++){\n    let predictedLayout = uniformizeLayoutPrediction(JSON.stringify(visOptions[j]))\n    returnVisOptions['vis_'+j] = arrayToObject(predictedLayout,\"featureId\")    \n  }\n  \n  return returnVisOptions\n}\n\n//Description -> Assigns all features in a vis the same layout\n// Function uses prediction score to find the more prominent layout and then uses for the assignment\nfunction uniformizeLayoutPrediction (vis)\n{\n  let testVis = JSON.parse(vis)\n  var predictionScore = 0\n  var layout\n\n  testVis.map(val => {\n    if(val[\"predictionScore\"] >= predictionScore) layout = val[\"layoutRecommendation\"]\n  }) \n   testVis.map(val=> \n    {\n      val[\"layoutRecommendation\"] = layout\n    })\n  return testVis\n}\n\n//\nfunction uniformizeSingleFeaturePrediction(vis)\n{\n  let testVis = vis\n  var predictionScore = 0\n  var layout\n\n  testVis.map(val => {\n    console.log(val)\n    if(val[0][\"predictionScore\"] >= predictionScore) layout = val[0][\"layoutRecommendation\"]\n  }) \n   testVis.map(val=> \n    {\n      val[0][\"layoutRecommendation\"] = layout\n    })\n  return testVis\n}\n\n//Description -> Converts an arra [id:val, key: val] to id:{id,val} \nconst arrayToObject = (array, keyField) =>\n   array.reduce((obj, item) => {\n     obj[item[keyField]] = item\n     return obj\n   }, {})\n\n\n\n   function mode(array)\n   {\n       if(array.length == 0)\n           return null;\n       var modeMap = {};\n       var maxEl = array[0], maxCount = 1;\n       for(var i = 0; i < array.length; i++)\n       {\n           var el = array[i];\n           if(modeMap[el] == null)\n               modeMap[el] = 1;\n           else\n               modeMap[el]++;  \n           if(modeMap[el] > maxCount)\n           {\n               maxEl = el;\n               maxCount = modeMap[el];\n           }\n       }\n       return maxEl;\n   }\n\n  //Check duplicate recommendation spec string\n  function checkDuplicates(inputArray)\n  {\n    var output = {}\n    for(let i=0;i<inputArray.length-1;i++)\n    {\n      for(let j = i+1;j<inputArray.length;j++)\n      {\n        if (JSON.stringify(inputArray[i]) === JSON.stringify(inputArray[j]))\n        {\n          inputArray.splice(j, 1)\n        }\n      }\n    }\n\n    inputArray.forEach((element,index) => {\n      output[\"recommendation_\"+index] = element \n    });\n    \n    return output\n  }\n\n\n\nmodule.exports =\n{\n  productProperties: getProductProperties,\n  computeSimilarity: computeSimilarity,\n  recommendedProducts:  recommendedProducts ,\n  cartesian: cartesian,\n  getVisOptions: getVisOptions,\n  mode:mode,\n  checkDuplicates:checkDuplicates\n}","const stage1Model = require('../model/stage1.json');\nconst stage3Model = require('../model/stage3.json');\nconst stage5Model = require('../model/stage5.json');\n\n//Converting the model to objects\nlet stage1ModelObj = {}\n\nstage1Model.map(val =>{\n    stage1ModelObj[val[\"chart\"]] = val\n})\n\nlet stage3ModelObj = {}\nstage3Model.map(val =>{\n    stage3ModelObj[val[\"layout\"]] = val\n})\n\nlet stage5ModelObj = {}\nstage5Model.map(val =>{\n    stage5ModelObj[val[\"arrangement\"]] = val\n})\n\n\nmodule.exports = {\n    model1: stage1ModelObj,\n    model3: stage3ModelObj,\n    model5: stage5ModelObj\n}\n","const { data } = require(\"jquery\");\n\nlet GLOBAL_INDEX_DATA = {}\n\nfunction Dataspec(obj) {\n    dataSpec = {}\n    dataSpec[\"sequences\"] = [];\n    dataSpec[\"intraSequenceTask\"] = (typeof obj.intraSequenceTask ==\"object\") ? obj.intraSequenceTask : (function(){throw \"Interconnection should be an object\"}());\n    dataSpec[\"denseConnection\"] = (typeof obj.denseConnection == \"boolean\") ?  obj.denseConnection : (function(){throw \"Dense Interconnection must be Boolean type\"}());\n    dataSpec[\"sparseConnection\"] = (typeof obj.sparseConnection == \"boolean\") ?  obj.sparseConnection : (function(){throw \"Sparse Interconnection must be Boolean type\"}());\n    // dataSpec[\"sequenceInteractivity\"] = (typeof obj.sequenceInteractivity ==\"object\") ? obj.sequenceInteractivity:(function(){throw \"Sequence Interactivity should be an object\"}() )\n\n    for(let i=0;i<obj.sequences.length;i++)\n    {\n        let sequence = Sequence(obj.sequences[i])\n        // console.log(\"SEQUENCE\",sequence)\n        dataSpec[\"sequences\"].push(sequence)\n        GLOBAL_INDEX_DATA[sequence['sequenceId']] = sequence\n    }\n    // console.log(\"GLOBAL\",GLOBAL_INDEX_DATA)\n    return dataSpec\n}\n\n\nfunction Sequence(obj) {\n    var sequenceName;\n    var features = [];\n    var sequenceId;\n    let featureIndex = {}\n\n   \n    //We can implement a type of checker before assignment of the value    \n    sequenceId = (typeof obj.sequenceId == \"string\") ?  obj.sequenceId : (function(){throw \"Sequence Id is missing\"}());\n\n    sequenceName = (typeof obj.sequenceName ==\"string\") ?  obj.sequenceName : (function(){throw \"Sequence name should be a string\"}());\n    interFeatureTasks = (typeof obj.interFeatureTasks ==\"object\") ? obj.interFeatureTasks : (function(){throw \"Inter feature tasks should be an object\"}());\n    //Features has to be an array\n    for(let i=0;i<obj.features.length;i++){\n        let feature = Features(obj.features[i])\n        features.push(feature);\n        featureIndex[feature['featureId']] = feature\n    }\n    return {sequenceId,featureIndex,sequenceName,features,interFeatureTasks}\n}\n\n\n\nfunction Features(obj){   \n    var featureGranularity\n    var featureDensity\n    var attributes = []\n    var featureLabel \n    var featureInterconnection\n    var denseInterconnection\n    var intraFeatureTasks\n    var featureId\n    var attributeIndex = {}\n    var interactivity  \n   \n    featureId = (typeof obj.featureId == \"string\") ?  obj.featureId : (function(){throw \"Feature Id is missing\"}());\n    featureGranularity =  ([\"point\",\"segment\"].indexOf(obj.featureGranularity != -1)) ?  obj.featureGranularity : (function(){throw \"Feature Granularity must be either Point or Interval\"}());\n    featureDensity =  ([\"sparse\",\"continous\"].indexOf(obj.featureDensity) != -1) ?  obj.featureDensity : (function(){throw \"Feature Density must be either Sparse or Continous\"}());\n    featureLabel = obj.featureLabel\n    featureInterconnection = (typeof obj.featureInterconnection == \"boolean\") ?  obj.featureInterconnection : (function(){throw \"Feature Interconnection must be Boolean type\"}());\n    denseInterconnection = (typeof obj.denseInterconnection == \"boolean\") ? obj.denseInterconnection :  (function(){throw \"Dense Interconnection must be Boolean type\"}());\n    interactivity =   obj.interactivity\n    intraFeatureTasks = obj.intraFeatureTasks\n    \n    for(let i=0;i<obj.attr.length;i++){\n        let attribute = Attributes(obj.attr[i])\n        attributes.push(attribute)\n        attributeIndex[attribute['attrId']] = attribute\n    }\n    return {featureId,featureGranularity,attributeIndex,featureDensity,featureLabel,interFeatureTasks,featureInterconnection,denseInterconnection,attributes,intraFeatureTasks,interactivity}\n}\n\n\n\nfunction Attributes(obj){\n\n    var dataDescriptor\n    var dataType\n    var intraAttrTask = []\n    var interAttrTask = []\n    var attrId\n\n    attrId = (typeof obj.attrId == \"string\") ?  obj.attrId : (function(){throw \"Attribute Id is missing\"}());\n    dataDescriptor =  obj.dataDescriptor; // Allow assignment without typecheck for partial dataspec\n    dataType = (typeof obj.dataType == \"string\" && [\"quantitative\",\"categorical\",\"text\"].indexOf(obj.dataType) != -1) ?  obj.dataType : (function(){throw \"Data Descriptor should be a string and should be either: Quant, Categorical or Text \"}());\n    intraAttrTask = (Array.isArray(obj.intraAttrTask)) ? obj.intraAttrTask: (function(){throw \"Intra attribute tasks should be an array with one or more entries consisting indentify, compare or summarize\"}());\n    interAttrTask = (Array.isArray(obj.interAttrTask)) ? obj.interAttrTask : [] // Allow assignment of [] without typecheck for partial dataspec\n    \n    return {attrId,dataDescriptor,dataType,intraAttrTask,interAttrTask}\n  \n}\n\nmodule.exports = {\n    Dataspec,\n    GLOBAL_INDEX_DATA}","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/pointsparse.8a77ed56.png\";","module.exports = __webpack_public_path__ + \"static/media/segmentcontiguous.d9c53c81.png\";","module.exports = __webpack_public_path__ + \"static/media/segmentsparse.739d9feb.png\";","module.exports = __webpack_public_path__ + \"static/media/pointcontiguous.7d3e39bf.png\";","var Dataspec = require('./inputspec.js')['Dataspec']\nvar encodeAttribute  = require(\"./s1_en.js\")\nvar getTracks  = require(\"./s2_ca.js\")\n// var inputData = require(\"../TestInput/input.json\")\nvar getLayout  = require(\"./s3_ls.js\")\nvar getAlignment = require(\"./s4_al.js\")\nvar getArrangment = require(\"./s5_ar.js\")\n// var getViewConfiguration = require(\"./s6_vc\")\nconst cartesian = require(\"./utils.js\").cartesian\nconst checkDuplicates = require(\"./utils.js\").checkDuplicates\nvar RecommendationSpec = require(\"./outputspec.js\")['RecommendationSpec']\n// var fs = require('fs');\n//Change this\nconsole.log(\"CHECK THIS\")\nconst needDefaultTask = false\nlet defaultTasks = [\"singleROI\",\"compareMultipleROI\",\"compareMultipleAttributes\",\"multipleFeatures\",\"multipleSequences\",\"explore\"]\n\n\n//Local validation of the backend\n\n// var input = []\n// input.push({\"chart\":\"linechart\", \"data\":require(\"../TestInput/InputInterface.json\"),\"tasks\":[\"singleROI\"]})\n\n// input.push({\"chart\":\"linechart\", \"data\":require(\"../TestInput/Linechart.json\"),\"tasks\":[\"singleROI\"]})\n// input.push({\"chart\":\"barchart\", \"data\":require(\"../TestInput/Barcharts.json\"),\"tasks\":[\"compareMultipleAttributes\"]})\n// input.push({\"chart\":\"heatmap\", \"data\":require(\"../TestInput/Heatmaps.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"ideogram\", \"data\":require(\"../TestInput/Ideogram.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"radialideogram\", \"data\":require(\"../TestInput/IdeogramNonInteractive.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"complexchart\", \"data\":require(\"../TestInput/input.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"circos\", \"data\":require(\"../TestInput/Circos.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"gremlin\", \"data\":require(\"../TestInput/Gremlin.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"multisequencemultitrack\", \"data\":require(\"../TestInput/MultiSequencesMultiTracks.json\"),\"tasks\":[\"explore\"]})\n// // input.push({\"chart\":\"circularstacked\", \"data\":require(\"../TestInput/CircularStacked.json\"),\"tasks\":[\"explore\"]})\n// // input.push({\"chart\":\"linearortho\", \"data\":require(\"../TestInput/LinearOrtho.json\"),\"tasks\":[\"explore\"]})\n// input.push({\"chart\":\"test\", \"data\":require(\"../TestInput/InputInterface.json\"),\"tasks\":[\"explore\"]})\n\n\n// input.forEach(val=>{\n//     getRecommendation(val[\"data\"],val[\"chart\"],val['tasks'])\n// })\n\n// //Validate the input dataspecification to ensure correctness of input data\n// function getRecommendation(inputData,file,tasks)\n// {\n//     console.log(file)\n//     const dataspec = Dataspec(inputData)\n//     const sequenceInputArrays = dataspec[\"sequences\"]\n//     var sequencesOutput = {}\n\n//     //First determine sequence level encoding\n//     for (var i=0;i<sequenceInputArrays.length;i++)\n//     {\n//         currentSequence = sequenceInputArrays[i]\n//         //Stage 1: Encoding Selection\n//         var attributeEncoding = encodeAttribute(currentSequence);\n//         //Stage 2: Combining Attributes\n//         var tracks = getTracks(attributeEncoding)\n//         //Stage 3: Predict the Layout\n//         var layoutForTracks = getLayout(tracks, currentSequence[\"sequenceId\"] )\n//         //Stage 4: Alignment \n//         sequencesOutput[currentSequence['sequenceId']]= getAlignment(layoutForTracks,currentSequence['interFeatureTasks'],currentSequence['sequenceName'],currentSequence['sequenceId'])\n//     }\n\n//     //Get view options\n//     var visOptions = []\n//     Object.keys(sequencesOutput).map(val=>{\n//         let tempVisArray = []\n//         Object.keys(sequencesOutput[val]).map(feature=>{\n//             tempVisArray.push(sequencesOutput[val][feature])\n//         })\n//         visOptions.push(tempVisArray)\n//     })\n\n//     var cartesianCombinationsVisOptions = cartesian(visOptions)\n\n//     //Stage 5: Get Arrangement given the entire sequence data\n//     var arrangements = [];\n\n//     cartesianCombinationsVisOptions.forEach(option=>{\n//         arrangements.push(getArrangment(option,dataspec['intraSequenceTask'],dataspec['denseConnection'],dataspec['sparseConnection']))\n//     })\n\n//     //Stage 6: Assign interactivity to the arrangements\n//     var recommendation = []\n//     arrangements.forEach((arrangement)=>{\n//         recommendation.push({arrangement})\n//     })\n\n//     console.log(recommendation)\n\n//     var recommendationSpec = RecommendationSpec(recommendation)\n\n//     var recommendationSpecNonDuplicates = checkDuplicates(Object.values(recommendationSpec))\n\n//     if(needDefaultTask) {recommendationSpecNonDuplicates[\"tasks\"] = tasks}\n\n//     console.log(recommendationSpecNonDuplicates)\n\n\n//     // var json = JSON.stringify(recommendationSpecNonDuplicates);\n//     // fs.writeFile('RecommendedSpec/'+file+'.json', json, (err) => {\n//     //     if (err) throw err;\n//     //     console.log('Data written to file');\n//     // });\n\n// }\n\n//For publishing npm library\n//Using NPM library locally: https://egghead.io/lessons/javascript-test-npm-packages-locally-in-another-project-using-npm-link\n\n function getRecommendation(param) {\n//     //Validate the input dataspecification to ensure correctness of input data\n    const dataspec = Dataspec(param)\n    const sequenceInputArrays = dataspec[\"sequences\"]\n    var sequencesOutput = {}\n\n    //First determine sequence level encoding\n    for (var i=0;i<sequenceInputArrays.length;i++)\n    {\n        currentSequence = sequenceInputArrays[i]\n        //Stage 1: Encoding Selection\n        var attributeEncoding = encodeAttribute(currentSequence);\n        //Stage 2: Combining Attributes\n        var tracks = getTracks(attributeEncoding)\n        //Stage 3: Predict the Layout\n        var layoutForTracks = getLayout(tracks, currentSequence[\"sequenceId\"] )\n        //Stage 4: Alignment \n        sequencesOutput[currentSequence['sequenceId']]= getAlignment(layoutForTracks,currentSequence['interFeatureTasks'],currentSequence['sequenceName'],currentSequence['sequenceId'])\n    }\n\n    //Get view options\n    var visOptions = []\n    Object.keys(sequencesOutput).map(val=>{\n        let tempVisArray = []\n        Object.keys(sequencesOutput[val]).map(feature=>{\n            tempVisArray.push(sequencesOutput[val][feature])\n        })\n        visOptions.push(tempVisArray)\n    })\n\n    var cartesianCombinationsVisOptions = cartesian(visOptions)\n\n    //Stage 5: Get Arrangement given the entire sequence data\n    var arrangements = [];\n\n    cartesianCombinationsVisOptions.forEach(option=>{\n        arrangements.push(getArrangment(option,dataspec['intraSequenceTask'],dataspec['denseConnection'],dataspec['sparseConnection']))\n    })\n\n    //Stage 6: Assign interactivity to the arrangements\n    var recommendation = []\n     arrangements.forEach((arrangement)=>{\n        recommendation.push({arrangement})\n    })\n\n    var recommendationSpec = RecommendationSpec(recommendation)\n\n    var recommendationSpecNonDuplicates = checkDuplicates(Object.values(recommendationSpec))\n\n    if(needDefaultTask) {recommendationSpecNonDuplicates[\"tasks\"] = tasks}\n\n    console.log(recommendationSpecNonDuplicates)\n    return recommendationSpecNonDuplicates\n\n}  \n\n// //Define the libary's api for external applications\nmodule.exports ={\ngetRecommendation\n}","// Description: This page identifies the visual encoding of each attribute avaialble in the dataset.\n// Output: Featureid -> [{attrid, inputVector, similarityScore, recommendation}]\n// inputVector consists an array and an object that store information about the input attribute.\n// similarityScore contains the score of an inputVector with all the encoding options available for genomics visualization.\n// recommendation is an array of one or more product recommendation. \nconst model = require('../model/stage1.json');\nconst vectorKeys = [\"quantitative\",\"categorical\",\"text\",\"sparse\",\"continous\",\"point\",\"segment\"]\nconst globalData = require(\"./modelDataProcessing.js\")\nconst stage1Model = globalData.model1\nconst getProductProperties  = require(\"./utils.js\").productProperties\nconst computeSimilarity = require(\"./utils.js\").computeSimilarity\nconst recommendedProducts = require(\"./utils.js\").recommendedProducts\n//Product vector only needs to be computed once\nconst productVector = getProductProperties(stage1Model,vectorKeys)\n\n\n\n// Description: This function will convert the dataspec to an array of user input\n// Description: As a side we will also store the input object vector\n// Input: The feature spec and attribute\n// Output: Vector array and object \nfunction createInputVector(feature,attribute){\n  \n  // Mapping attributes \n  var inputVectorObject = {}\n  var inputArray = []\n\n  //Vector array and object\n    inputArray.push(inputVectorObject[\"quantitative\"] = attribute.dataType == \"quantitative\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"categorical\"] = attribute.dataType == \"categorical\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"text\"] = attribute.dataType == \"text\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"sparse\"] = feature.featureDensity == \"sparse\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"continous\"] = feature.featureDensity == \"continous\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"point\"] = feature.featureGranularity == \"point\" ? 1:0)\n    inputArray.push(inputVectorObject[\"segment\"] = feature.featureGranularity == \"segment\" ? 1:0)\n    // inputArray.push(inputVectorObject[\"compare\"] = attribute.intraAttrTask.indexOf(\"compare\") != -1 ? 1 : 0 )\n    \n  return {inputVectorObject, inputArray}\n  }\n\nfunction encodeAttribute(dataspec){\n\n    var stage1Output = {}\n\n    for(var i = 0; i<dataspec.features.length;i++)\n    {\n      var currentFeature = dataspec.features[i];\n      var featureId = dataspec.features[i].featureId\n\n      //Initiation of the partial specification\n      stage1Output[featureId] = []\n\n      //Get recommendation of the input feature vector\n      for(j=0;j<currentFeature.attributes.length;j++){\n        var currentAttribute = currentFeature.attributes[j]\n        var inputVectorObject = createInputVector(currentFeature,currentAttribute)  \n        var similarityScores = computeSimilarity(inputVectorObject,productVector)\n        var recommendation = recommendedProducts(similarityScores)\n        var attributeId = currentFeature.attributes[j].attrId\n        var tempAttributeStorage = {'featureId':featureId,'attributeId':attributeId, 'inputVectorObject':inputVectorObject, 'similarityScore': similarityScores, 'recommendation':recommendation}\n        stage1Output[featureId].push(tempAttributeStorage)\n      }\n    }\n    // console.log(stage1Output)\n    return stage1Output\n}\n\n module.exports = encodeAttribute","const globalData = require(\"./modelDataProcessing.js\")\nconst cartesian = require(\"./utils.js\").cartesian\n\n\nvar attrCombination = {\n    \"barchart\":[\"heatmap\",\"barchartCN\"],\n    \"heatmap\":[\"barchart\",\"dotplot\"],\n    \"barchartCN\":[\"barchart\",\"dotplot\"],\n    \"dotplot\":[\"heatmap\",\"barChartCN\"],\n    \"intervalBarchart\":[\"intervalHeatmap\",\"intervalBarchartCN\"],\n    \"intervalHeatmap\":[\"intervalBarchart\"],\n    \"intervalBarchartCN\":[\"intervalBarchart\"]\n}\n\n\nvar superimposition = {\n    \"dotplot\": [\"dotplot\",\"linechart\"],\n    \"linechart\": [\"linechart\",\"dotplot\"]\n}\n\n\n//Description:This function is going to take input specifications and try to output a list of visualizable attributes per feature\n//Input: Feature object\n//Output: Returns the tracks \nfunction getPossibilities(feature)\n{\n    var allEncoding = []//First store all the possible encodings in the dataspec.\n\n    //Step 1: Identify all the possible encodings for the attributes\n    //Loop through all the options and store the encodings in the allEncoding var\n    for (var i=0; i<feature.length;i++)\n    {    \n        var recommendation = feature[i]['recommendation']\n        var similarityScore = recommendation.map((val)=>{return feature[i]['similarityScore'][val]})\n        var encodingRecommendations = []\n        for (var j=0; j<recommendation.length; j++){\n            var encoding = {'featureId':feature[i][\"featureId\"],'attributeId':feature[i]['attributeId'], 'encoding':recommendation[j], 'similarityScore':similarityScore[j]}\n            encodingRecommendations.push(encoding)\n        }\n        allEncoding.push(encodingRecommendations)\n    } \n\n    var encodingOptions = cartesian(allEncoding)\n    \n    //Find the attributes that merge\n    var finalEncodingCombination = [];\n    for (var x = 0; x< encodingOptions.length; x++)\n    {\n      var set = encodingOptions[x]  \n      finalEncodingCombination.push(combineLogic(set))\n    }\n    // console.log(\"combinations\",finalEncodingCombination)\n    \n    //Superimpose Attributes\n    var finalSuperimposed = []\n    for (var x=0;x<finalEncodingCombination.length;x++)\n    {\n        var set  = finalEncodingCombination[x]\n        finalSuperimposed.push(superimposeLogic(set,x))\n    }\n\n    var trackIdAdded = addTrackId(finalSuperimposed)\n\n    return finalSuperimposed\n}\n\nfunction addTrackId(tracks)\n{\n   var trackIdAdded = tracks.map(element => {\n        var trackIdArray = element.map((innerElement,trackId) => {\n            var innterTid =  innerElement.map(innerInner => {\n                    innerInner['trackId'] = trackId\n                    return innerInner\n            })\n            return innterTid\n        });\n        return trackIdArray\n    });\n    return trackIdAdded\n}\n\n\n\n\n//Description: Checks if two variables can be combined. To check there will be two steps, first we will cont.\n//ensure that two attributes can logically be combined and next we test whether based on tasks it makes sense to combine\n//then test if the combination will work.\nfunction canCombine(a,b){\n    var listOfCombinedAttr = attrCombination[a]\n    if(listOfCombinedAttr == undefined) {return false}\n    let possibleCombination = listOfCombinedAttr.indexOf(b) != -1 ? true : false\n    return possibleCombination\n}\n\n//Description: This method returns a combined list of attributes\n//Input: Array of object containing the attribtue id and encoding recoomendation\n//Output: Array of combined and non-combined attributes. E.g [[a1_dotplot,a2_barchart],[a3_annotation]]\nfunction combineLogic(arr)\n{\n    var finalEncodingCombination = []   \n    \n    //Create an array to keep track of all the attributes that have been combined\n    var visited = arr.map(val =>\n        {\n            return 0\n        })\n    \n    //Loop through all the options in the arr to check for pairs that can be combined    \n    for(var i = 0;i<arr.length;i++)\n        {\n            //Only check if the attribute has not been combined at a previous stage\n            if(visited[i]==0)\n            {\n                var combinationNotFound = true // This variable will keep track incase the combination was found \n                var a = Object.assign({},arr[i])\n                for (var j = 0;j<arr.length;j++)\n                {\n                    if(visited[j]==0)\n                    {\n                        var b = Object.assign({},arr[j])\n                        if(a['attributeId'] == b['attributeId'])\n                        {\n                            continue\n                        }\n                        else\n                        {\n                            var combine = canCombine(a['encoding'],b['encoding'])                            \n                            if (combine)\n                            {\n                                visited[i] = 1\n                                visited[j] = 1\n                                a['combined'] = true\n                                b['combined'] = true\n                                finalEncodingCombination.push([a,b])\n                                combinationNotFound = false\n                                break;\n                            }\n                        }\n                    }\n                }\n                if(combinationNotFound)\n                {\n                    a['combined'] = false\n                    finalEncodingCombination.push([a])\n                }\n            }\n        }\n\nreturn finalEncodingCombination\n}\n\n//Description: Check if two items groups/individual atttributes can be superimposed\n//Input Both a and b are array and we will do a cartesian combination and check \nfunction canSuperimposed(a,b){\n    var canSuperimposed = []\n    var allcombinations = cartesian([a,b])\n\n    for(var i=0;i<allcombinations.length;i++){\n        var a = allcombinations[i][0]\n        var b = allcombinations[i][1]\n        if(superimposition[a] == undefined || superimposition[a] == undefined){\n            canSuperimposed.push(false)\n            continue\n        }\n        superimposition[a].indexOf(b) != -1 ? canSuperimposed.push(true) : canSuperimposed.push(false) // Incorrect\n    }\n\n    // console.log(\"boolean array\", canSuperimposed) \n     return canSuperimposed.every(v => v === true)\n\n}\n\n\n\n//Description: Algorithm to superimpose\nfunction superimposeLogic(arr,index)\n{\n    var finalSuperImposed = []\n    var visited = arr.map(val =>\n        {\n            return 0\n        })\n    \n    for(var i=0;i<arr.length;i++)\n    {\n        if(visited[i]==0)\n        {\n            var superImpositionNotFound = true\n            var a = arr[i]\n            var addSuperImposed = []\n            var aEncoding = arr[i].map(val => {return val['encoding']})\n\n            for(var j=0;j<arr.length;j++)\n            {\n                if(visited[j]==0)\n                {\n                    if(i==j){continue} // Skip the same \n                    var b = arr[j]\n                    var bEncoding = arr[j].map(val => {return val['encoding']})\n                    // console.log(aEncoding,bEncoding)\n                    // console.log(canSuperimposed(aEncoding,bEncoding))\n                    if(canSuperimposed(aEncoding,bEncoding))\n                    {\n                        visited[j] = 1\n                        b.map(arr => {\n                            arr[\"superimposed\"] = true\n                        })\n                        addSuperImposed.push(...b)\n                        aEncoding.push(...bEncoding)//new\n                        superImpositionNotFound = false\n                        continue\n                    }\n                }\n\n            }\n                visited[i] = 1//new\n                a.map(arr => {\n                    arr[\"superimposed\"] = !superImpositionNotFound\n                })\n                addSuperImposed.push(...a)\n            \n                finalSuperImposed.push(addSuperImposed)\n            \n        }\n    }  \n    return finalSuperImposed\n}\n\nfunction getTracks(encodingSpecification){\n    \n    var featureKeys= Object.keys(encodingSpecification)\n    var trackList =[]\n\n    for(i=0;i<featureKeys.length;i++){\n        var trackPossibilities = getPossibilities(encodingSpecification[featureKeys[i]])\n        var featureId = `feature_${i}`\n        var returnTrackSpec = {[featureId]:{trackPossibilities}}\n        trackList.push(returnTrackSpec)\n    }\n\n    // console.log(trackList)\n    return trackList\n\n}\n\nmodule.exports = getTracks","const models = require(\"./modelDataProcessing.js\")\nconst stage1Model = models.model1\nconst stage3Model = models.model3\nconst vectorKeys = ['sparseinterconnection','denseinterconnection','outliers','summarize','interactivity','length','color','text']\nconst getProductProperties  = require(\"./utils.js\").productProperties\nconst computeSimilarity = require(\"./utils.js\").computeSimilarity\nconst recommendedProducts = require(\"./utils.js\").recommendedProducts\nconst mode = require(\"./utils.js\").mode\nconst getVisOptions = require(\"./utils.js\").getVisOptions\nconst productVector = getProductProperties(stage3Model,vectorKeys)\nconst GLOBAL_INDEX_DATA = require('./inputspec.js')['GLOBAL_INDEX_DATA']\n\n\n\n//Todo: Need to figure out how to take into consideration user preferences.\n//Description: Use the input from stage 2 and dataspec to create an input vector.\nfunction createInputVector(channels,featureData){\n  // Mapping attributes \n  var inputVectorObject = {}\n  var inputArray = []\n\n  //Todo: No interconnection is not defined \n  inputArray.push(inputVectorObject[\"sparseinterconnection\"] = (featureData['denseInterconnection']) ? 0:1)\n  inputArray.push(inputVectorObject[\"denseinterconnection\"] = (featureData['denseInterconnection']) ? 1:0)\n  \n  //Todo: Tasks have to be revisited and fixed. We may need to also fix the input format to handle the tasks.\n  inputArray.push(inputVectorObject[\"outliers\"] = featureData[\"intraFeatureTasks\"].indexOf(\"outliers\") !=-1 ? 1:0)\n  inputArray.push(inputVectorObject[\"summarize\"] = featureData[\"intraFeatureTasks\"].indexOf(\"summarize\") !=-1 ? 1:0)\n  inputArray.push(inputVectorObject[\"interactivity\"] = featureData['interactivity'] ? 1:0)\n\n  //Data types from previous stages: Todo needs to be fixed\n  inputArray.push(inputVectorObject[\"length\"] = (channels.indexOf(\"y\") !=-1)  ? 1 : 0)\n  inputArray.push(inputVectorObject[\"color\"] = (channels.indexOf(\"color(sequential)\") !=-1 || channels.indexOf(\"color(nominal)\") !=-1) ? 1 : 0)\n  inputArray.push(inputVectorObject[\"text\"] = channels.indexOf(\"none\") !=-1  ? 1 : 0)\n\n  // console.log(inputArray,inputVectorObject)\n  return {inputVectorObject,inputArray}\n}\n\n\n//Description: Track combinations are designed to nest though all the combinations and find trackCombinations for all possible individual trackCombinations\n//Input: Previous stage outputs\n//Output: Inputvector and Inputarray for each track and all the possible combinations.\nfunction createTrackInputVector(stage2Output,sequenceId,featureId){\n\n    var trackPossibilities = stage2Output.trackPossibilities\n    var trackInputVectors = []\n\n    var featureData = GLOBAL_INDEX_DATA[sequenceId][\"featureIndex\"][featureId]\n    //This loop identifies the possible combination of trackCombinations within a feature\n    for(var j =0; j<trackPossibilities.length; j++){\n      var trackCombinationInputVector = []\n      var trackCombinations = trackPossibilities[j]\n      //In this loop we check for each individual track and find its input vector.\n      for(var k=0; k<trackCombinations.length;k++)\n        {     \n          var channels = trackCombinations[k].map(val => {\n          return stage1Model[val['encoding']]['channel']\n        })\n        // allTrackInput.push(createInputVector(channels,tasks,interconnection))\n        var inputVector = createInputVector(channels,featureData)\n        trackCombinationInputVector.push({inputVector,encodings:trackCombinations[k]})\n      }\n      trackInputVectors.push(trackCombinationInputVector)\n    }\n    return trackInputVectors\n}\n\n\nfunction getLayout (stage2Output,sequenceId) {\n\n  //Layout recommendation for each possible track  indexed by feature id\n  var trackLayoutOutput = {}\n  // This loop divides the features, and for individual feature set identifies the types of trackCombinations.\n  for (var i = 0; i< stage2Output.length;i++)\n  {\n    var featureId = Object.keys(stage2Output[i])[0]\n    var trackInputVectors = createTrackInputVector(stage2Output[i][featureId],sequenceId,featureId)\n    var interconnection = GLOBAL_INDEX_DATA[sequenceId][\"featureIndex\"][featureId]['featureInterconnection']\n    trackLayoutOutput[featureId] = {\"trackPossibilities\":[]}\n    var featureGranularity =  GLOBAL_INDEX_DATA[sequenceId][\"featureIndex\"][featureId]['featureGranularity']\n    var featureDensity = GLOBAL_INDEX_DATA[sequenceId][\"featureIndex\"][featureId]['featureDensity']\n    \n    for(var j =0; j< trackInputVectors.length;j++)\n    {\n      var tracks = trackInputVectors[j]\n      var trackLayoutRecommendation = []\n      var predictionScores = []\n      for (var k = 0; k< tracks.length; k++){\n        var inputVectorObject = tracks[k]['inputVector']\n        var similarityScores = computeSimilarity(inputVectorObject,productVector)\n        trackLayoutRecommendation.push(recommendedProducts(similarityScores))\n        var tLRecommendation = recommendedProducts(similarityScores)\n        predictionScores.push(similarityScores[tLRecommendation])\n      }\n\n      var layoutRecommendation = mode(trackLayoutRecommendation)\n      var predictionScore =  predictionScores.map((c, i, arr) => c / arr.length).reduce((p, c) => c + p);\n\n      trackLayoutOutput[featureId][\"trackPossibilities\"].push({tracks, layoutRecommendation:layoutRecommendation[0],predictionScore,interconnection,featureGranularity,featureAvailability:featureDensity})\n    }\n  \n  } \n\n//  console.log(\"Stage 3 Output:\")\n// console.log(trackLayoutOutput)\n  \nreturn getVisOptions(trackLayoutOutput)\n}\n\n\nmodule.exports = getLayout","const cartesian = require(\"./utils.js\").cartesian\nconst GLOBAL_INDEX_DATA = require('./inputspec.js')['GLOBAL_INDEX_DATA']\n\nvar superimposition = {\n    \"dotplot\": [\"dotplot\",\"linechart\"],\n    \"linechart\": [\"linechart\",\"dotplot\"]\n}\n\n\n//Description: Check if two items groups/individual atttributes can be superimposed\n//Input Both a and b are array and we will do a cartesian combination and check \nfunction canSuperimposed(a,b){\n    var canSuperimposed = []\n    var allcombinations = cartesian([a,b])\n\n    for(var i=0;i<allcombinations.length;i++){\n        var a = allcombinations[i][0]\n        var b = allcombinations[i][1]\n        if(superimposition[a] == undefined || superimposition[a] == undefined){\n            canSuperimposed.push(false)\n            continue\n        }\n        superimposition[a].indexOf(b) != -1 ? canSuperimposed.push(true) : canSuperimposed.push(false) // Incorrect\n    }\n\n    // console.log(\"boolean array\", canSuperimposed) \n     return canSuperimposed.every(v => v === true)\n\n}\n\n\n//Description: Algorithm to superimpose\nfunction checkForSuperImposition(features)\n{\n    var featureArray= Object.values(features);\n    var cartesianFeatureArray = cartesian(featureArray)\n    var cartesianEncodings =  cartesianFeatureArray.map(element=>{\n        var encodingArray= element.map(innerElement=>{\n            var encodingArrayTemp = innerElement.map(innerInnerElement=>{\n                return innerInnerElement['encoding']\n            })\n          return encodingArrayTemp\n        })\n        return encodingArray\n    })\n    var superImposedIndex = encodingSuperImposable(cartesianEncodings)\n    return cartesianFeatureArray[superImposedIndex]\n}\n\n// //Input: An array of encoding arrays\n// //Description: For each subarray crete \nfunction encodingSuperImposable(cartesianEncodings)\n{\n    var returnIndex=[];\n    var superImpose = false\n    for(var k=0;k<cartesianEncodings.length;k++){\n        var val = cartesianEncodings[k]\n        for(var i=0;i<val.length-1;i++)\n        {\n            for(var j= i+1;j<val.length;j++)\n            {\n                if(canSuperimposed(val[i],val[j]))\n                {\n                    returnIndex.push(k)\n                }\n       \n            }\n        }\n    }\n\n    if(returnIndex.length>0){\n        return returnIndex[0]\n    }\n    else{\n        return returnIndex\n    }\n}\n\n\n\nfunction getAlignment (layouts,tasks,sequenceName,sequenceId)\n{\n    // Get the tracks from each feature\n    var visOptions = Object.values(layouts)\n\n    visOptions.forEach((vis,i) =>{\n        var featureUsed ={}\n        var stacked= []\n        var superImpose =[]\n        var layout\n        Object.keys(vis).map((val) =>{\n          //featureUsed[val] = false            \n          let interconnection = GLOBAL_INDEX_DATA[sequenceId]['featureIndex'][val]['featureInterconnection']\n          featureUsed[val] = interconnection\n          if(interconnection){\n            stacked.push(val)\n          }\n            \n            layout = vis[val][\"layoutRecommendation\"]\n        })\n\n        if(tasks.compare.length>0){\n            var featureList = Object.values(tasks.compare)\n            var featureObjectForSuperImposition = {}\n            // create an array of tracks in each feature\n            featureList.forEach((element)=>{\n                if(!featureUsed[element])\n                {\n                    var valuesToPush = vis[element][\"tracks\"].map((elemtnVal,trackId) => { \n                        // elemtnVal[\"encodings\"][\"trackId\"] = trackId\n                        return elemtnVal[\"encodings\"]})\n            \n                    featureObjectForSuperImposition[element]= valuesToPush\n                }\n            })\n\n            if(Object.keys(featureObjectForSuperImposition).length>0)\n            {\n                var superImposedFeatures = (checkForSuperImposition(featureObjectForSuperImposition))            \n                \n                if(superImposedFeatures!=undefined){\n                var superImposedFlat = superImposedFeatures.flat()\n                superImposedFlat.forEach(element=>{\n                    var tempString = element[\"featureId\"]\n                    if(superImpose.indexOf(tempString)==-1){\n                        superImpose.push(tempString)\n                        featureUsed[element[\"featureId\"]] = true\n                    }\n                })\n                }\n            }\n        }\n        if(tasks.correlate.length>0){\n            var featureList = Object.values(tasks.browse)\n            featureList.forEach(element => {\n                if(featureUsed[element] == false){\n                    featureUsed[element] = true\n                    stacked.push(element)\n                }\n            });\n        }\n\n        //If no tasks then check for features that can be superimposed\n        {\n            var featuresForSuperImposition = {}\n            Object.keys(vis).map((val)=>{\n                if(!featureUsed[val])\n                {\n                    var valuesToPush = vis[val][\"tracks\"].map((element,trackId) => { \n                        // elemtnVal[\"encodings\"][\"trackId\"] = trackId\n                        return element[\"encodings\"]})\n                        \n                    featuresForSuperImposition[val]= valuesToPush\n                }\n            })   \n            if(Object.entries(featuresForSuperImposition).length!=0){\n            var superImposedFeatures = (checkForSuperImposition(featuresForSuperImposition))      \n            }\n\n            if(superImposedFeatures!=undefined)\n            {\n            var superImposedFlat = superImposedFeatures.flat()\n            superImposedFlat.forEach(element=>{\n                var tempString = element[\"featureId\"]\n                if(superImpose.indexOf(tempString)==-1){\n                    superImpose.push(tempString)\n                    featureUsed[element[\"featureId\"]] = true\n                    }\n                })\n            }\n     }\n\n         //Deafult stacking\n         {\n            Object.keys(featureUsed).map(val=>{\n                if(!featureUsed[val]){\n                    stacked.push(val)\n                }\n            })\n         }\n        layouts['vis_'+i][\"stacked\"] = stacked\n        layouts['vis_'+i][\"superimposed\"] = superImpose\n        layouts['vis_'+i][\"sequenceName\"] = sequenceName\n        layouts['vis_'+i][\"sequenceId\"] = sequenceId\n        layouts['vis_'+i][\"layout\"] = layout\n    })\n    // console.log(layouts)\n    return layouts\n}\n\nmodule.exports = getAlignment","const models = require(\"./modelDataProcessing.js\")\nconst stage5Model = models.model5\nconst vectorKeys = [\"layoutcircular\",\"layoutlinear\",\"nointerconnection\",\"sparseinterconnection\",\"denseinterconnection\",\"edgeconnection\",\"readedgevalue\"]\nconst getProductProperties  = require(\"./utils.js\").productProperties\nconst computeSimilarity = require(\"./utils.js\").computeSimilarity\nconst recommendedProducts = require(\"./utils.js\").recommendedProducts\n//Product vector only needs to be computed once\nconst productVector = getProductProperties(stage5Model,vectorKeys)\nconst mode = require(\"./utils.js\").mode\n\n\n\nfunction createInputVector(layout,dense,sparse,connectedNodes,edgeValue,sequenceConservation){\n  \n    // Mapping attributes \n    var inputVectorObject = {}\n    var inputArray = []\n\n    inputArray.push(inputVectorObject[\"layoutcircular\"] = layout===\"circular\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"layoutlinear\"] = layout===\"linear\" ? 1 : 0)\n    inputArray.push(inputVectorObject[\"nointerconnection\"] = dense || sparse ? 0 : 1)\n    inputArray.push(inputVectorObject[\"sparseinterconnection\"] = sparse ? 1 : 0)\n    inputArray.push(inputVectorObject[\"denseinterconnection\"] = dense ? 1 : 0)\n    inputArray.push(inputVectorObject[\"edgeconnection\"] = connectedNodes ? 1 : 0)\n    inputArray.push(inputVectorObject[\"readedgevalue\"] = edgeValue ? 1 : 0)\n\n    // console.log(inputVectorObject, inputArray)\n    return {inputVectorObject, inputArray}\n}\n\nfunction addElementsToOuput(input,output,layout){\n    if(layout==\"linear\"){\n        output[\"linearStacked\"]=[]\n        output[\"linearStacked\"] = [...input]\n       }\n       else{\n        output[\"circleStacked\"]=[]\n        output[\"circleStacked\"] = [...input]\n       }\n       return output\n}\n\nfunction getArrangement(input,tasks,dense,sparse){\n    // console.log(dense,sparse)\n    // var sequencesCovered = {}\n    var output = {}\n\n    //Find the most common layout and then assign all the sequences same layout\n    var layoutCollection = input.map(val=>{\n        return val['layout']\n    })\n    var layout = mode(layoutCollection)\n\n    //For views with 3 or more sequences\n    if(input.length>=3){\n        output = addElementsToOuput(input,output,layout)\n    }\n    else{\n        var connectedNodes = tasks['connectedNodes'].length === 2 ? true : false\n        var edgeValue = tasks['edgeValues'].length === 2 ? true : false\n        var sequenceConservation = tasks['sequenceConservation'].length === 2 ? true : false\n        var inputVectorObject = createInputVector(layout,dense,sparse,connectedNodes,edgeValue,sequenceConservation)\n        var similarityScores = computeSimilarity(inputVectorObject,productVector)\n        // console.log(similarityScores)\n        var recommendation = recommendedProducts(similarityScores)\n        output[recommendation] = []\n        output[recommendation] = [...input]\n        output[\"arrangementName\"] = recommendation[0]\n        output['predictionScore'] = similarityScores[recommendation]\n        output['sequenceConnection'] = (dense || sparse) ? true: false\n        output['typeOfInterconnection'] = dense ? \"dense\":\"sparse\"\n    }\n    return output\n}\n\nmodule.exports = getArrangement","function RecommendationSpec(systemoutput){\n    var recommendation = {}\n    systemoutput.forEach((element,index) => {\n        recommendation[\"recommendation_\"+index] = Arrangement(element.arrangement)\n    })\n    \n    return recommendation\n}\n\n// function ViewConfiguration(obj){\n//     var recommendationStage = 6;\n//     var viewConfig = obj.viewConfig\n//     var visDetails = Arrangement(obj.arrangement)\n\n//     return {recommendationStage,viewConfig,visDetails}\n// }\n\nfunction Arrangement(obj){\n    var recommendationStage = 5\n    var arrangement = obj.arrangementName\n    var predictionScore = obj.predictionScore\n    var visDetails = {}\n    var sequenceInterconnection = obj.sequenceConnection\n    var connectionType = obj.typeOfInterconnection\n\n    obj[arrangement].forEach((element,index)=>{\n        visDetails[\"Sequence_\"+index] = Sequence(element)\n    })\n\n    return {recommendationStage,arrangement,predictionScore,visDetails,sequenceInterconnection,connectionType}\n}\n\nfunction Sequence(obj)\n{\n    var recommendationStage = 4\n    var trackAlignment = obj[\"stacked\"].length == 0 ? \"superimposed\":\"stacked\"\n    var visDetails = {}\n    var sequenceName = obj[\"sequenceName\"]\n\n    obj[trackAlignment].forEach((element,val) =>{\n        visDetails[\"TrackGroup_\"+val] = Tracks(obj[element])\n    })\n    \n    \n    return {recommendationStage,sequenceName,trackAlignment,visDetails}\n}\n\nfunction Tracks(obj)\n{\n    var recommendationStage = 3\n    var layout = obj.layoutRecommendation\n    var predictionScore = obj.predictionScore\n    var visDetails = {}\n    var interconnection = obj.interconnection ? true:false\n    var granularity = obj.featureGranularity\n    var availability = obj.featureAvailability\n\n\n    obj.tracks.forEach((element,val)=>{\n        visDetails[\"Track_\"+val] = Groups(element)\n    })\n\n    return {recommendationStage,layout,predictionScore,visDetails,interconnection,granularity,availability}\n}\n\nfunction Groups(obj)\n{\n    var recommendationStage =2\n    var groupingTechnique\n    if(obj.encodings.length==1){\n        groupingTechnique = \"none\"\n    }\n    else if(obj.encodings.length>1)\n    {\n        groupingTechnique = obj.encodings[0].combined? \"combined\":\"superposed\"\n    }\n    else\n    {\n        throw(\"Grouping information in recommendation spec is wrong\")\n    }\n\n    var visDetails = {}\n\n    obj.encodings.forEach((element,val)=>{\n        visDetails[\"Attribute_\"+val] = Attributes(element)\n    })\n\n    return {recommendationStage,groupingTechnique,visDetails}\n\n}\n\nfunction Attributes(obj)\n{\n    var recommendationStage = 1;\n    var encoding = obj.encoding\n    var predictionScore = obj.similarityScore\n    return {recommendationStage,encoding,predictionScore}\n}\n\nmodule.exports = {\n    RecommendationSpec\n}","var map = {\n\t\"./annotation.jpg\": 140,\n\t\"./areachart.pdf\": 141,\n\t\"./areahue.jpg\": 142,\n\t\"./areasaturation.jpg\": 143,\n\t\"./areasize.jpg\": 144,\n\t\"./barhue.jpg\": 145,\n\t\"./barsaturation.jpg\": 146,\n\t\"./barsize.jpg\": 147,\n\t\"./circular.jpg\": 148,\n\t\"./datafiles/linechart\": 46,\n\t\"./datafiles/linechart.json\": 46,\n\t\"./dotplot.jpg\": 149,\n\t\"./input\": 47,\n\t\"./input.json\": 47,\n\t\"./interconnection_between.png\": 40,\n\t\"./interconnection_none.png\": 39,\n\t\"./linear.jpg\": 150,\n\t\"./linechart.jpg\": 151,\n\t\"./multifeature.jpeg\": 152,\n\t\"./multifeatures.png\": 153,\n\t\"./multipleattributes.png\": 154,\n\t\"./multiplefeatures.png\": 155,\n\t\"./multipleroi.jpeg\": 156,\n\t\"./multipleroi.png\": 157,\n\t\"./multiplesequences.png\": 158,\n\t\"./multisequences.jpeg\": 159,\n\t\"./multisequences.png\": 160,\n\t\"./pointcontiguous.png\": 44,\n\t\"./pointsparse.png\": 41,\n\t\"./segmentcontiguous.png\": 42,\n\t\"./segmentsparse.png\": 43,\n\t\"./singleroi.jpeg\": 161,\n\t\"./singleroi.png\": 162,\n\t\"./summarize.png\": 163,\n\t\"./test.png\": 164\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 139;","module.exports = __webpack_public_path__ + \"static/media/annotation.8eb3cd2d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/areachart.efb732d7.pdf\";","module.exports = __webpack_public_path__ + \"static/media/areahue.7f895b0a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/areasaturation.a7280176.jpg\";","module.exports = __webpack_public_path__ + \"static/media/areasize.57c8c514.jpg\";","module.exports = __webpack_public_path__ + \"static/media/barhue.0b7707eb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/barsaturation.abf4cf53.jpg\";","module.exports = __webpack_public_path__ + \"static/media/barsize.d3ff128f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/circular.8ca9c42b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/dotplot.d7489665.jpg\";","module.exports = __webpack_public_path__ + \"static/media/linear.4a14a220.jpg\";","module.exports = __webpack_public_path__ + \"static/media/linechart.2e428433.jpg\";","module.exports = __webpack_public_path__ + \"static/media/multifeature.0b2e3ada.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/multifeatures.c6c26484.png\";","module.exports = __webpack_public_path__ + \"static/media/multipleattributes.90346912.png\";","module.exports = __webpack_public_path__ + \"static/media/multiplefeatures.d4429721.png\";","module.exports = __webpack_public_path__ + \"static/media/multipleroi.8599ce2c.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/multipleroi.679721e5.png\";","module.exports = __webpack_public_path__ + \"static/media/multiplesequences.09e7a210.png\";","module.exports = __webpack_public_path__ + \"static/media/multisequences.5630ba23.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/multisequences.c8d7e652.png\";","module.exports = __webpack_public_path__ + \"static/media/singleroi.348892ad.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/singleroi.4131dd1e.png\";","module.exports = __webpack_public_path__ + \"static/media/summarize.28914c07.png\";","module.exports = \"data:image/png;base64,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\"","export const getSampleColor = (i) => {\n    return SINGLE_COLOR[i % SINGLE_COLOR.length];\n}\n\nconst SINGLE_COLOR = ['gray'];\n// Taken from https://mode.com/blog/custom-color-palettes/\nconst COLOR_MAP = [ \n    '#38B067',\n    '#6297BB',\n    '#ECB40E',\n    '#80D7C1',\n    '#9F8CAE',\n    '#EB6672',\n    '#376C72',\n    '#EE9CCC',\n    '#E4781B',\n    '#9F775D'\n];\n\nexport const COLOR_MAP_EXTENDED = [\n    // Skip the first few vivid colors\n    // '#d60000',\n    // '#018700',\n    // '#b500ff',\n    // '#05acc6',\n    // '#97ff00',\n    // '#ffa52f',\n    // '#ff8ec8',\n    // '#79525e',\n    // '#00fdcf',\n    // '#afa5ff',\n    // '#93ac83',\n    '#9a6900',\n    '#366962',\n    '#d3008c',\n    // '#fdf490',\n    '#c86e66',\n    // '#9ee2ff',\n    '#00c846',\n    '#a877ac',\n    '#b8ba01',\n    '#f4bfb1',\n    '#ff28fd',\n    '#f2cdff',\n    '#009e7c',\n    '#ff6200',\n    '#56642a',\n    '#953f1f',\n    '#90318e',\n    '#ff3464',\n    '#a0e491',\n    '#8c9ab1',\n    '#829026',\n    '#ae083f',\n    '#77c6ba',\n    '#bc9157',\n    '#e48eff',\n    '#72b8ff',\n    '#c6a5c1',\n    '#ff9070',\n    '#d3c37c',\n    '#bceddb',\n    '#6b8567',\n    '#916e56',\n    '#f9ff00',\n    '#bac1df',\n    '#ac567c',\n    '#ffcd03',\n    '#ff49b1',\n    '#c15603',\n    '#5d8c90',\n    '#c144bc',\n    '#00753f',\n    '#ba6efd',\n    '#00d493',\n    '#00ff75',\n    '#49a150',\n    '#cc9790',\n    '#00ebed',\n    '#db7e01',\n    '#f77589',\n    '#b89500',\n    '#c84248',\n    '#00cff9',\n    '#755726',\n    '#85d401',\n    '#ebffd4',\n    '#a77b87',\n    '#db72c8',\n    '#cae256',\n    '#8abf5d',\n    '#a1216b',\n    '#855b89',\n    '#89bacf',\n    '#ffbad6',\n    '#b6cfaa',\n    '#97414d',\n    '#67aa00',\n    '#fde1b1',\n    '#ff3628',\n    '#80793d',\n    '#d6e8ff',\n    '#a795c6',\n    '#7ea59a',\n    '#d182a3',\n    '#54823b',\n    '#e6a872',\n    '#9cffff',\n    '#da5480',\n    '#05b3aa',\n    '#ffaaf6',\n    '#d1afef',\n    '#da015d',\n    '#ac1a13',\n    '#60b385',\n    '#d442fd',\n    '#acaa59',\n    '#fb9ca7',\n    '#b3723b',\n    '#f26952',\n    '#aed1d4',\n    '#9affc3',\n    '#dbb333',\n    '#eb01c3',\n    '#9900c4',\n    '#cfff9e',\n    '#a55949',\n    '#3b6d01',\n    '#008579',\n    '#959167',\n    '#89dbb3',\n    '#6d7400',\n    '#aa5dca',\n    '#07ef00',\n    '#804f3d',\n    '#d88052',\n    '#ffc862',\n    '#b8009e',\n    '#99acdd',\n    '#904f00',\n    '#8c4470',\n    '#4f6e52',\n    '#ff8734',\n    '#c68ecd',\n    '#d4e29e',\n    '#b1826d',\n    '#9cfb75',\n    '#56dd77',\n    '#f90087',\n    '#a1cdff',\n    '#13cad1',\n    '#118e54',\n    '#d154a5',\n    '#00dfc3',\n    '#a3832f',\n    '#77975b',\n    '#baaa80',\n    '#70a3af',\n    '#d6fbff',\n    '#e8013a',\n    '#d84621',\n    '#ff82ed',\n    '#b63862',\n    '#b6cd72',\n    '#97626b',\n    '#897490',\n    '#00a316',\n    '#00f4a1',\n    '#bf90f2',\n    '#89e4d8',\n    '#a34d95',\n    '#6e5d00',\n    '#8cc68e',\n    '#95aa2a',\n    '#c672dd',\n    '#b33b01',\n    '#d69a36',\n    '#dfacb6',\n    '#009aa0',\n    '#599000',\n    '#97bca8',\n    '#ac8ca8',\n    '#dad4ff',\n    '#547c72',\n    '#00ba69',\n    '#ffc38e',\n    '#b800d4',\n    '#dfcf5b',\n    '#629a7b',\n    '#bfedbc',\n    '#c1bdfd',\n    '#80d3dd',\n    '#e2857e',\n    '#f9eb4d',\n    '#bf6d82',\n    '#caff4f',\n    '#ef72aa',\n    '#ed67ff',\n    '#9946ae',\n    '#6d6942',\n    '#e25660',\n    '#dd662d',\n    '#9cdb5d',\n    '#e29ccf',\n    '#b87500',\n    '#c6002d',\n    '#dfbcda',\n    '#59b5df',\n    '#ff59da',\n    '#38c1a1',\n    '#9e698c',\n    '#acaac8',\n    '#95622f',\n    '#b55662',\n    '#2b7e60',\n    '#b1e400',\n    '#eda590',\n    '#95fde2',\n    '#ff548e',\n    '#bd6ea1',\n    '#aa3b36',\n    '#d8cf00',\n    '#aa80cd',\n    '#a08052',\n    '#e100e8',\n    '#c35b3d',\n    '#b53a85',\n    '#8c7700',\n    '#dbbc95',\n    '#529e93',\n    '#afbc82',\n    '#91b5b6',\n    '#a75423',\n    '#ffd4ef',\n    '#79ae6b',\n    '#5db54b',\n    '#80fb9a',\n    '#48ffef',\n    '#979548',\n    '#9387a7',\n    '#31d400',\n    '#6ee956',\n    '#b6d4eb',\n    '#705470',\n    '#f2db8a',\n    '#aad4c1',\n    '#7ecdf2',\n    '#89ba00',\n    '#64b6ba',\n    '#ffb500',\n    '#c38285',\n    '#caaa5e',\n    '#647748',\n    '#59e2ff',\n    '#df4dcd',\n    '#e9ff79',\n    '#bc66b8',\n    '#c395a5',\n    '#64c674',\n    '#d19570',\n    '#70cf4f',\n    '#aa6e66',\n    '#9c60a5',\n    '#00b800',\n    '#e299b3',\n    '#bc006b',\n    '#b3e8ef',\n    '#cdbfe4',\n    '#77a342',\n    '#856277',\n    '#568e5b',\n    '#9eafc4',\n    '#e82fa0',\n    '#247c2a',\n    '#826723',\n    '#bfbc4d',\n    '#ddd3a5'\n];","import { getSampleColor } from './color';\n\nexport const EXAMPLE_DATASETS = {\n    multivec: 'https://resgen.io/api/v1/tileset_info/?d=UvVPeLHuRDiYA3qwFlm7xQ',\n    fasta: 'https://resgen.io/api/v1/tileset_info/?d=WipsnEDMStahGPpRfH9adA',\n    geneAnnotation: 'https://higlass.io/api/v1/tileset_info/?d=OHJakQICQD6gTD7skx4EWA',\n    interaction: 'https://resgen.io/api/v1/tileset_info/?d=JzccFAJUQEiz-0188xaWZg',\n    clinvar: 'https://cgap-higlass.com/api/v1/tileset_info/?d=clinvar_20200824_hg38',\n    region: 'https://resgen.io/api/v1/gt/paper-data/tileset_info/?d=SYZ89snRRv2YcxRwG_25_Q',\n    region2: 'https://resgen.io/api/v1/gt/paper-data/tileset_info/?d=HT4KNWdTQs2iN477vqDKWg'\n};\n\n/**\n * This generates good looking data based on granularity and availability.\n * @param {*} i \n * @param {*} granularity \n * @param {*} availability \n */\nexport const getMultivecData = (i, granularity, availability) => {\n    return {\n        data: {\n            url: EXAMPLE_DATASETS.multivec,\n            type: 'multivec',\n            row: 'sample',\n            column: 'position',\n            value: 'peak',\n            categories: (Array.from(Array(i + 1).keys()).map(d => '' + d)),\n            binSize: granularity === 'segment' ? 4 : 2\n        },\n        dataTransform: { filter: \n            (\n                availability === 'sparse' ? [\n                    { field: 'sample', oneOf: [i + ''], not: false },\n                    { field: 'peak', inRange: [0.0001, 0.0008] }\n                ] : [\n                    { field: 'sample', oneOf: [i + ''], not: false }\n                ]\n            ) \n        }\n    }\n}\n\n// Default height of tracks\nconst height = 60;\n\nexport function encodingToGoslingTrack(\n    encoding,\n    width,\n    i = 0,\n    showAxis = false, \n    title = undefined,\n    linkingID = undefined,\n    availability = 'sparse',\n    granularity = 'point'\n) {\n    const base = {\n        title,\n        style: { outlineWidth: 1}, // outline: 'black', outlineWidth: 0.5\n        width,\n        height\n    };\n    const axis = showAxis ? 'bottom' : undefined;\n    const domain = [undefined, { chromosome: '1' }][1];\n    switch(encoding) {\n        case 'linechart':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'line',\n                x: { field: 'position', type: 'genomic' },\n                y: { field: 'peak', type: 'quantitative' },\n                color: { value: getSampleColor(i) }\n            }\n        case 'barchart':\n        case 'intervalBarchart':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'bar',\n                x: { field: 'start', type: 'genomic' },\n                xe: { field: 'end', type: 'genomic' },\n                y: { field: 'peak', type: 'quantitative' },\n                color: { value: getSampleColor(i) },\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.5 },\n            }\n        case 'heatmap':\n        case 'intervalHeatmap':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'rect',\n                x: { field: 'start', type: 'genomic' },\n                xe: { field: 'end', type: 'genomic' },\n                color: { field: 'peak', type: 'quantitative'},\n            }\n        case 'heatmap.barchart':\n        case 'barchart.heatmap':\n        case 'intervalHeatmap.intervalBarchart':\n        case 'intervalBarchart.intervalHeatmap':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'bar',\n                x: { field: 'start', type: 'genomic' },\n                xe: { field: 'end', type: 'genomic' },\n                y: { field: 'peak', type: 'quantitative' },\n                color: { field: 'peak', type: 'quantitative'},\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.5 },\n            }\n        case 'barchartCN':\n        case 'intervalBarchartCN':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'rect',\n                x: { field: 'start', type: 'genomic' },\n                xe: { field: 'end', type: 'genomic' },\n                color: { field: 'start', type: 'nominal' },\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.5 },\n            }\n        case 'intervalBarchart.intervalBarchartCN':\n        case 'intervalBarchartCN.intervalBarchart':\n        case 'barchartCN.barchart':\n        case 'barchart.barchartCN':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'bar',\n                x: { field: 'position', type: 'genomic' },\n                y: { field: 'peak', type: 'quantitative' },\n                opacity: { value: 0.8 },\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.3 },\n                color: { field: 'start', type: 'nominal' },\n            }\n        case 'heatmap.dotplot':\n        case 'dotplot.heatmap':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'point',\n                x: { field: 'position', type: 'genomic' },\n                y: { field: 'peak', type: 'quantitative' },\n                size: { value: 4 },\n                opacity: { value: 0.8 },\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.3 },\n                color: { field: 'peak', type: 'quantitative' },\n            }\n        case 'dotplot':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'point',\n                x: { field: 'position', type: 'genomic' },\n                y: { field: 'peak', type: 'quantitative' },\n                size: { value: 4 },\n                opacity: { value: 0.8 },\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.3 },\n                color: { value: getSampleColor(i) }\n            }\n        case 'dotplot.barchartCN':\n        case 'barchartCN.dotplot':\n            return {\n                ...base,\n                ...getMultivecData(i, granularity, availability),\n                mark: 'point',\n                x: { field: 'position', type: 'genomic' },\n                size: { value: 4 },\n                opacity: { value: 0.8 },\n                stroke: { value: 'white' },\n                strokeWidth: { value: 0.3 },\n                color: { field: 'start', type: 'nominal' },\n            }\n        case 'link':\n            return {\n                ...base,\n                data: {\n                    url: \"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/circos-segdup-edited.txt\",\n                    type: \"csv\",\n                    chromosomeField: \"c2\",\n                    genomicFields: [\"s1\", \"e1\", \"s2\", \"e2\"]\n                  },\n                     mark: \"link\",\n                    x: { field: \"s1\", type: \"genomic\" },\n                    xe: { field: \"e1\", type: \"genomic\" },\n                    x1: { field: \"s2\", type: \"genomic\" },\n                    x1e: { field: \"e2\", type: \"genomic\" },\n                  color: { value: \"none\"},\n                  stroke: { value: \"gray\"},\n                  opacity: { value: 0.3}\n              }\n        case 'annotation':\n            return {\n                ...base,\n                \"data\": {\n                  \"url\": \"https://server.gosling-lang.org/api/v1/tileset_info/?d=gene-annotation\",\n                  \"type\": \"beddb\",\n                  \"genomicFields\": [\n                    {\"index\": 1, \"name\": \"start\"},\n                    {\"index\": 2, \"name\": \"end\"}\n                  ],\n                  \"valueFields\": [\n                    {\"index\": 5, \"name\": \"strand\", \"type\": \"nominal\"},\n                    {\"index\": 3, \"name\": \"name\", \"type\": \"nominal\"},\n                    {\"index\": 4, \"name\": \"4\", \"type\": \"nominal\"},\n                    {\"index\": 6, \"name\": \"6\", \"type\": \"nominal\"},\n                    {\"index\": 7, \"name\": \"7\", \"type\": \"nominal\"},\n                    {\"index\": 8, \"name\": \"8\", \"type\": \"nominal\"},\n                    {\"index\": 9, \"name\": \"9\", \"type\": \"nominal\"},\n                    {\"index\": 10, \"name\": \"10\", \"type\": \"nominal\"},\n                    {\"index\": 11, \"name\": \"11\", \"type\": \"nominal\"},\n                  ],\n                  \"exonIntervalFields\": [\n                    {\"index\": 12, \"name\": \"start\"},\n                    {\"index\": 13, \"name\": \"end\"}\n                  ]\n                },\n                   \"dataTransform\": {\n                      \"filter\": [\n                        {\"field\": \"type\", \"oneOf\": [\"gene\"]},\n                        {\"field\": \"strand\", \"oneOf\": [\"+\"]}\n                      ]\n                    },\n                    \"mark\": \"text\",\n                    text: {field: ['name', 'strand', '4', '6', '7', '8', '9', '10', '11'][i % 4], 'type': 'nominal'},\n                    \"x\": {\"field\": \"start\", \"type\": \"genomic\"},\n                    \"xe\": {\"field\": \"end\", \"type\": \"genomic\"},\n                \"color\": {\n                  \"value\": \"gray\"\n                },\n                \"opacity\": {\"value\": 0.8}\n              }\n        case 'matrix':\n            return {\n                ...base,\n                title: 'matrix',\n                style: { outline: \"black\", outlineWidth: 2 },\n                static: true,\n                \"data\": {\n                  \"url\": \"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec\",\n                  \"type\": \"multivec\",\n                  \"row\": \"sample\",\n                  \"column\": \"position\",\n                  \"value\": \"peak\",\n                  \"categories\": [\n                    \"1\", \"2\", \"3\", \"4\", \"5\",\n                    \"11\", \"12\", \"13\", \"14\", \"15\",\n                    \"21\", \"22\", \"23\", \"24\", \"25\",\n                    \"31\", \"32\", \"33\", \"34\", \"35\",\n                    \"41\", \"42\", \"43\", \"44\", \"45\"\n                  ],\n                  \"binSize\": 16\n                },\n                \"mark\": \"rect\",\n                \"x\": {\"field\": \"start\", \"type\": \"genomic\", \"axis\": \"none\"},\n                \"xe\": {\"field\": \"end\", \"type\": \"genomic\"},\n                \"row\": {\"field\": \"sample\", \"type\": \"nominal\"},\n                \"color\": {\"field\": \"peak\", \"type\": \"quantitative\"},\n                height: width\n              }\n        default:\n            console.error('Unexpected encoding:', encoding);\n            return {\n                ...base,\n                title: encoding,\n                height: width,\n                data: {\n                    url: EXAMPLE_DATASETS.multivec,\n                    type: 'multivec',\n                    row: 'sample',\n                    column: 'position',\n                    value: 'peak',\n                    categories: ['-'],\n                    binSize: 18\n                },\n                mark: 'bar',\n                style: { background: 'lightgray', outline: 0.5 }\n            }\n    }\n}","export const getIdeogram = (A, B, width, block = true) => {\n  if(block) {\n    return {\n      static: true,\n      \"tracks\": [{\n      \"data\": {\n        \"url\": \"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/UCSC.HG38.Human.CytoBandIdeogram.csv\",\n        \"type\": \"csv\",\n        \"chromosomeField\": \"Chromosome\",\n        \"genomicFields\": [\"chromStart\", \"chromEnd\"]\n      },\n      \"overlay\": [\n        {\n          \"mark\": \"rect\",\n          \"color\": {\n            \"field\": \"Chromosome\",\n            \"type\": \"nominal\",\n            \"domain\": [\n              \"chr1\",\n              \"chr2\",\n              \"chr3\",\n              \"chr4\",\n              \"chr5\",\n              \"chr6\",\n              \"chr7\",\n              \"chr8\",\n              \"chr9\",\n              \"chr10\",\n              \"chr11\",\n              \"chr12\",\n              \"chr13\",\n              \"chr14\",\n              \"chr15\",\n              \"chr16\",\n              \"chr17\",\n              \"chr18\",\n              \"chr19\",\n              \"chr20\",\n              \"chr21\",\n              \"chr22\",\n              \"chrX\",\n              \"chrY\"\n            ],\n            \"range\": [\"#F6F6F6\", \"gray\"]\n          },\n          \"x\": {\"field\": \"chromStart\", \"type\": \"genomic\", \"aggregate\": \"min\"},\n          \"xe\": {\"field\": \"chromEnd\", \"aggregate\": \"max\", \"type\": \"genomic\"},\n          \"strokeWidth\": {\"value\": 2},\n          \"stroke\": {\"value\": \"gray\"},\n          \"visibility\": [\n            {\n              \"operation\": \"greater-than\",\n              \"measure\": \"zoomLevel\",\n              \"threshold\": 100000000,\n              \"target\": \"mark\",\n              \"transitionPadding\": 100000000\n            }\n          ]\n        },\n        {\n          mark: 'brush',\n          x: { linkingId: A }\n      },\n      {\n        mark: 'brush',\n        x: { linkingId: B }\n    }\n      ],\n      \"stroke\": {\"value\": \"gray\"},\n      \"strokeWidth\": {\"value\": 0.5},\n      \"style\": {\"outline\": \"black\"},\n      width,\n      \"height\": 35\n    }]}\n  }\n    return {\n        static: true,\n        \"tracks\": [\n          {\n            \"data\": {\n              \"url\": \"https://raw.githubusercontent.com/sehilyi/gemini-datasets/master/data/cytogenetic_band.csv\",\n              \"type\": \"csv\",\n              \"chromosomeField\": \"Chr.\",\n              \"genomicFields\": [\n                \"ISCN_start\",\n                \"ISCN_stop\",\n                \"Basepair_start\",\n                \"Basepair_stop\"\n              ],\n              \"quantitativeFields\": [\"Band\", \"Density\"]\n            },\n            \"overlay\": [\n              {\n                \"mark\": \"text\",\n                \"dataTransform\": {\n                  \"filter\": [\n                    {\"field\": \"Stain\", \"oneOf\": [\"acen-1\", \"acen-2\"], \"not\": true}\n                  ]\n                },\n                \"text\": {\"field\": \"Band\", \"type\": \"nominal\"},\n                \"color\": {\"value\": \"black\"},\n                \"visibility\": [\n                  {\n                    \"operation\": \"less-than\",\n                    \"measure\": \"width\",\n                    \"threshold\": \"|xe-x|\",\n                    \"transitionPadding\": 10,\n                    \"target\": \"mark\"\n                  }\n                ],\n                \"style\": {\"textStrokeWidth\": 0}\n              },\n              {\n                \"mark\": \"rect\",\n                \"dataTransform\": {\n                  \"filter\": [\n                    {\"field\": \"Stain\", \"oneOf\": [\"acen-1\", \"acen-2\"], \"not\": true}\n                  ]\n                },\n                \"color\": {\n                  \"field\": \"Density\",\n                  \"type\": \"nominal\",\n                  \"domain\": [\"\", \"25\", \"50\", \"75\", \"100\"],\n                  \"range\": [\"white\", \"#D9D9D9\", \"#979797\", \"#636363\", \"black\"]\n                }\n              },\n              {\n                \"mark\": \"rect\",\n                \"dataTransform\": {\n                  \"filter\": [{\"field\": \"Stain\", \"oneOf\": [\"gvar\"]}]\n                },\n                \"color\": {\"value\": \"#A0A0F2\"}\n              },\n              {\n                \"mark\": \"triangleRight\",\n                \"dataTransform\": {\n                  \"filter\": [{\"field\": \"Stain\", \"oneOf\": [\"acen-1\"]}]\n                },\n                \"color\": {\"value\": \"#B40101\"}\n              },\n              {\n                \"mark\": \"triangleLeft\",\n                \"dataTransform\": {\n                  \"filter\": [{\"field\": \"Stain\", \"oneOf\": [\"acen-2\"]}]\n                },\n                \"color\": {\"value\": \"#B40101\"}\n              },\n              {\n                  mark: 'brush',\n                  x: { linkingId: A }\n              },\n              {\n                mark: 'brush',\n                x: { linkingId: B }\n            }\n            ],\n            \"x\": {\"field\": \"Basepair_start\", \"type\": \"genomic\"},\n            \"xe\": {\"field\": \"Basepair_stop\", \"type\": \"genomic\"},\n            \"stroke\": {\"value\": \"gray\"},\n            \"strokeWidth\": {\"value\": 0.5},\n            width,\n            \"height\": 30\n          }\n        ]\n    }\n}","import get from 'lodash/get';\nimport { encodingToGoslingTrack } from './encoding';\nimport { getIdeogram } from './ideogram';\n\n// !!! Use the name of internal variables same as the actual object key, if possible.\n// Generate a key to directly access to certain props.\nconst GET_SEQUENCES_KEY = (recommendation_n) => `${recommendation_n}.visDetails`;\nconst GET_TRACK_GROUPS_KEY = (recommendation_n, Sequence_n) => `${recommendation_n}.visDetails.${Sequence_n}.visDetails`;\nconst GET_TRACKS_KEY = (recommendation_n, Sequence_n, TrackGroup_n) => `${recommendation_n}.visDetails.${Sequence_n}.visDetails.${TrackGroup_n}.visDetails`;\nconst GET_ATTRIBUTES_KEY = (recommendation_n, Sequence_n, TrackGroup_n, Track_n) => `${recommendation_n}.visDetails.${Sequence_n}.visDetails.${TrackGroup_n}.visDetails.${Track_n}.visDetails`;\n\nconst getGosViewTemplate = () => {\n    return {\n        assembly: 'hg38',\n        arrangement: 'vertical',\n        centerRadius: 0.5,\n        views: []\n    }\n}\n\n/**\n * Convert a GenoRec recommendation spec to a list of Gosling specs.\n * @param {Object} genoRec Output description of GenoRec.\n * @param {number} width Size of recommended visualization along horizontal axis.\n * @returns {Array} An array of gosling specs.\n */\nexport function convert(...props){\n    const [genoRec, baseWidth] = props;\n\n    if(!genoRec) {\n        // Recommendation spec is not ready.\n        return [];\n    }\n\n    /* TASKS */\n    // Possible elements: singleroi, multipleroi, multipleattributes, multiplefeatures, multiplesequences, overview\n    const tasks = JSON.parse(JSON.stringify(genoRec)).tasks;\n\n    const hasSingleRoi = tasks && tasks.includes('singleroi');\n    const compareMultipleRoi = tasks && tasks.includes('multipleroi');\n    const compareMultipleAttr = tasks && (tasks.includes('multipleattributes') || tasks.includes('multiplefeatures'));\n    \n    let xDomain = undefined, xDomain2 = undefined;\n    if(hasSingleRoi || compareMultipleRoi) {\n        // This means we have at least one local ROI to show.\n        xDomain = { chromosome: '8' }; //, interval: [127636068, 127741434]};\n    }\n\n    if(compareMultipleRoi) {\n        // This means we will compare multiple, here two, regions.\n        xDomain2 = { chromosome: '12'}; //, interval: [6445000, 6585000]};\n    }\n    \n    // For the convenience, remove tasks and have only `recommendation_*`\n    delete genoRec.tasks;\n\n    // DEBUG\n    // console.log('genoRec', genoRec);\n    //\n\n    const goslings = [];\n    let globalLayout = 'linear'; // if anything is circular, then circular.\n\n    /**\n     * This is the list of recommendations\n     */\n    Object.keys(genoRec).forEach((recommendation_n, i) => {\n        console.log('<!--- NEW RECOMMENDATION INCOMING -->');\n        const recommendationObj = genoRec[recommendation_n];\n        const { arrangement } = recommendationObj;\n\n        let notSupportedArrangement = false;\n        let isCircularAdjacent = false;\n        let isLinearOrthogoal = false;\n        if(arrangement !== 'linearStacked' && arrangement !== 'circularStacked' ) {\n            notSupportedArrangement = true;\n            isCircularAdjacent = (arrangement === 'circularAdjacent');\n            isLinearOrthogoal = arrangement === 'linearOrthogonal';\n            console.error('Unexpected arrangement', arrangement);\n        }\n\n        /**\n         * Incoming View\n         */\n        let GOS_VIEW = {\n            ...getGosViewTemplate(),\n            xDomain\n        };\n\n        /* Collection of Sequence_ */\n        const sequencesKey = GET_SEQUENCES_KEY(recommendation_n);\n        const sequencesObj = get(genoRec, sequencesKey);\n\n        // divide size\n        // gosling.arrangement.columnSizes /= Object.keys(sequencesObj).length;\n        \n        let numOfTracks = 0;\n        Object.keys(sequencesObj).forEach(Sequence_n => {\n            const sequenceObj = sequencesObj[Sequence_n];\n            const { trackAlignment, sequenceName } = sequenceObj;\n            \n            /**\n             * Group of tracks, i.e., view\n             */\n            let tracks = [];\n            let viewLayout = null;\n\n            /* Collection of TrackGroup_ */\n            const trackGroupsKey = GET_TRACK_GROUPS_KEY(recommendation_n, Sequence_n);\n            const trackGroupsObj = get(genoRec, trackGroupsKey);\n            Object.keys(trackGroupsObj).forEach(trackGroup_n => {\n                const trackGroup = trackGroupsObj[trackGroup_n];\n                const { \n                    layout, \n                    interconnection, \n                    availability, // ['continous', 'sparse'] Be aware the existing typo\n                    granularity  // ['point', 'segment']\n                } = trackGroup;\n\n                if(layout === 'circular') {\n                    globalLayout = 'circular';\n                }\n\n                // If circular, we use half width to prevent making the circular layout too large.\n                // If comparing across multiple ROIs, use half width.\n                let width = (compareMultipleRoi || layout === 'circular') ? baseWidth / 2.0 : baseWidth;\n                if(arrangement === 'circularAdjacent') {\n                    width /= 2.0;\n                }\n\n                if(!viewLayout) {\n                    viewLayout = layout;\n                } else if(viewLayout !== layout) {\n                    console.error('layout is different across tracks');\n                }\n\n                /* Collection of Track_ */\n                const tracksKey = GET_TRACKS_KEY(recommendation_n, Sequence_n, trackGroup_n);\n                const tracksObj = get(genoRec, tracksKey);\n                Object.keys(tracksObj).forEach((Track_n, Track_i) => {\n                    const track = tracksObj[Track_n];\n                    const { groupingTechnique } = track; // typeof 'superposed' | 'combined' | 'none'\n\n                    /* Collection of Attribute_ */\n                    const attributesKey = GET_ATTRIBUTES_KEY(recommendation_n, Sequence_n, trackGroup_n, Track_n);\n                    const attributesObj = get(genoRec, attributesKey);\n                    \n                    Object.keys(attributesObj).forEach((Attribute_n, Attribute_i) => {\n                        if(groupingTechnique === 'combined' && Attribute_i !== 0) {\n                            // We only add a single track when multiple attributes are encoded together, so let's get out of this scrope.\n                            return;\n                        }\n\n                        const attribute = attributesObj[Attribute_n];\n                        let { encoding } = attribute;\n\n                        if(groupingTechnique === 'combined') {\n                            // If combined, we get the second encoding\n                            // NOTE: Only two `encoding` can be combined in the GenoRec output\n                            if(Object.keys(attributesObj).length <= Attribute_i + 1) {\n                                // We did not find the second one.\n                                console.warn(\"Output file format is incorrect. Two attributes should be provided for a `combined` grouping technique.\");\n                            } else {\n                                // Let's combine the two\n                                const nextAttribute = attributesObj[Object.keys(attributesObj)[Attribute_i + 1]];\n                                // if `heatmap` and `barchartCN` is combined, it will look like \"barchartCN.heatmap\"\n                                encoding = [encoding, nextAttribute.encoding].sort().join('.');\n                            }\n                        }\n\n                        /// DEBUG\n                        console.log(\n                            recommendation_n, \n                            tasks.join(','), \n                            arrangement, \n                            trackAlignment, \n                            layout, \n                            groupingTechnique, \n                            encoding, \n                            availability, \n                            granularity\n                        );\n                        ///\n\n                        const isAxisShown = Track_i === Object.keys(tracksObj).length - 1;\n                        const overlayOnPreviousTrack = (\n                            (trackAlignment === 'superimposed') ||\n                            (groupingTechnique === 'superposed' && Attribute_i !== 0)\n                            //  ||  (layout === 'circular' && Track_i !== 0)\n                        );\n                        \n                        // Title of track\n                        const title = `${trackGroup_n}.${Track_n}.${Attribute_n}`;\n\n                        // Matrix view is not supported at all.\n                        if(!notSupportedArrangement || true) {\n                            // Add a single Gosling track\n                            tracks.push({\n                                ...JSON.parse(JSON.stringify(encodingToGoslingTrack(\n                                    encoding, \n                                    width,\n                                    numOfTracks++,\n                                    isAxisShown,\n                                    // show title only on the first track\n                                    sequenceName,\n                                    Sequence_n,\n                                    availability,\n                                    granularity\n                                ))),\n                                overlayOnPreviousTrack\n                            });\n                        }\n                    });\n\n                    // At the end, add a connection track if needed.\n                    const isLastTrack = Track_i === Object.keys(tracksObj).length - 1;\n                    if(isLastTrack && interconnection) {\n                        tracks.push({\n                            ...JSON.parse(JSON.stringify(encodingToGoslingTrack(\n                                'link', \n                                width,\n                                numOfTracks++,\n                                false,\n                                // show title only on the first track\n                                undefined,\n                                Sequence_n,\n                                availability,\n                                granularity\n                            )))\n                        });\n                    }\n                });\n            });\n            // console.log(GOS_VIEW, tracks);\n\n            GOS_VIEW.views.push({\n                layout: viewLayout,\n                spacing: 1,\n                tracks\n            });\n        });\n\n        // fine-tune the center radius\n        // GOS_VIEW.centerRadius = Math.max(0.2, 0.6 - GOS_VIEW.views.length * 0.1);\n\n        if(arrangement === 'linearOrthogonal') {\n            GOS_VIEW.views.push({\n                layout: 'linear',\n                spacing: 1,\n                tracks: [{\n                    ...JSON.parse(JSON.stringify(encodingToGoslingTrack(\n                        'matrix', \n                        baseWidth / 2.0,\n                        0,\n                        false\n                    )))\n                }]\n            });\n        }\n\n        // console.log('gosling', GOS_VIEW);\n\n        // Put a link at the end\n        GOS_VIEW.views.forEach(v => {\n            if(v.tracks.find(d => d.mark === 'link')) {\n                // Put links at the end\n                v.tracks = [\n                    ...v.tracks.filter(d => d.mark !== 'link'), \n                    v.tracks.find(d => d.mark === 'link')\n                ] \n            }\n        });\n\n        // Finish creating a view by adding an adjacent view for comparison\n        if(notSupportedArrangement && false) {\n            // If this is a not support track, show a message\n            // GOS_VIEW.views = [{\n            //     tracks: [{\n            //         ...JSON.parse(JSON.stringify(encodingToGoslingTrack(\n            //             arrangement === 'circularAdjacent' ? \n            //             'Line connection between two views' :\n            //             'Matrix view' , \n            //             baseWidth / 2.0,\n            //         )))\n            //     }]\n            // }];\n        }\n        else {\n            if(!compareMultipleAttr && !compareMultipleRoi && !hasSingleRoi) {\n                GOS_VIEW = {\n                    ...getGosViewTemplate(),\n                    ...JSON.parse(JSON.stringify(GOS_VIEW)),\n                    arrangement: 'vertical',\n                    spacing: 90,\n                    views: GOS_VIEW.views.map(view => {\n                        return {\n                            ...view,\n                            arrangement: 'vertical',\n                            spacing: 1,\n                            tracks: undefined,\n                            views: view.tracks.map((track, i) => {\n                                return {\n                                    spacing: 1,\n                                    tracks: [{\n                                        ...track,\n                                        // x: { ...track.x, axis: (i === 0 || globalLayout === 'circular') ? 'top' : 'none'}\n                                    }]\n                                }\n                            })\n                        }\n                    })\n                }\n            }\n\n            if(arrangement === 'circularAdjacent') {\n                GOS_VIEW = {\n                    ...GOS_VIEW,\n                    spacing: 1,\n                    arrangement: 'serial',\n\n                }\n            }\n\n            if(hasSingleRoi) {\n                GOS_VIEW = {\n                    ...getGosViewTemplate(),\n                    arrangement: 'parallel',\n                    views: [\n                        {...JSON.parse(JSON.stringify(getIdeogram('A', 'B', baseWidth)))},\n                        {\n                            arrangement: 'horizontal',\n                            spacing: 30,\n                            views: [\n                                {...JSON.parse(JSON.stringify(GOS_VIEW)), xDomain, xLinkingId: 'A'},\n                            ]\n                        }\n                    ]\n                }\n            } else if(compareMultipleRoi) {\n                GOS_VIEW = {\n                    ...getGosViewTemplate(),\n                    arrangement: 'parallel',\n                    views: [\n                        {...JSON.parse(JSON.stringify(getIdeogram('A', 'B', baseWidth + 30)))},\n                        {\n                            arrangement: 'horizontal',\n                            spacing: 30,\n                            views: [\n                                {...JSON.parse(JSON.stringify(GOS_VIEW)), xDomain, xLinkingId: 'A'},\n                                {...JSON.parse(JSON.stringify(GOS_VIEW)), xDomain: xDomain2, xLinkingId: 'B'}\n                            ]\n                        }\n                    ]\n                }\n            }\n        }\n\n        goslings.push(GOS_VIEW);\n    }); // end of iteration on recommendations\n    console.log('Final Goslings', goslings);\n    return JSON.parse(JSON.stringify(goslings));\n}","import React, { useState, useEffect, useMemo } from \"react\";\nimport { GoslingComponent } from \"gosling.js\";\nimport { convert } from \"./convert\";\nimport { v1 } from 'uuid';\nimport \"./Recommendation.css\";\n\n\nconst getVisLabel = (spec) =>\n{\n  var sequences = Object.keys(spec[\"visDetails\"])\n  var attributes = []\n  sequences.map(seq => \n    {\n      var trackGroup = Object.keys(spec[\"visDetails\"][seq][\"visDetails\"])\n      console.log(trackGroup)\n      return trackGroup.map(tG => \n        {\n                var tracks = Object.keys(spec[\"visDetails\"][seq][\"visDetails\"][tG][\"visDetails\"])\n                tracks.map(track => {\n                  let attributesObjKeys = Object.keys(spec[\"visDetails\"][seq][\"visDetails\"][tG][\"visDetails\"][track][\"visDetails\"])\n                  attributesObjKeys.map( attribute=>{\n                    let attributeVal = spec[\"visDetails\"][seq][\"visDetails\"][tG][\"visDetails\"][track][\"visDetails\"][attribute]\n                    attributes.push(attributeVal[\"encoding\"])\n                  })\n                })\n            \n    })\n  })\n  let uniqueAttr = [...new Set(attributes)];\n  var visName = uniqueAttr.length === 1 ? uniqueAttr[0] :  uniqueAttr.slice(0, uniqueAttr.length - 1).join(', ') + \" and \" + uniqueAttr.slice(-1);\n  \n  return `This visualization below consists of ${visName}.`\n}\n\n\nconst Recommendation = React.memo((props) => {\n  const { \n    data: output, \n    width \n  } = props;\n\n  return (\n    <div className=\"gosling-recommendation-output\">\n      {\n        convert(JSON.parse(JSON.stringify(output)), width).map((spec, index) => {\n          return index < 5 ? (<>\n            <div className=\"w3-center  w3-light-grey w3-padding\">\n              <h5>\n                {\" \"}\n                  {/* {getVisLabel(output[\"recommendation_\" + index])} */}\n                  {\"Option \" + parseInt(index+1)}\n\n                {\" \"}\n              </h5>\n            </div>\n          <GoslingComponent key={v1()} spec={spec}/></>) : null\n        })\n      }\n    </div>\n  );\n})\n\nexport const testGosSpec = {\n  \"tracks\": [\n    {\n      \"data\": {\n        \"url\": \"https://resgen.io/api/v1/tileset_info/?d=UvVPeLHuRDiYA3qwFlm7xQ\",\n        \"type\": \"multivec\",\n        \"row\": \"sample\",\n        \"column\": \"position\",\n        \"value\": \"peak\",\n        \"categories\": [\"sample 1\", \"sample 2\", \"sample 3\", \"sample 4\"]\n      }\n    }\n  ]\n}\n\nexport default Recommendation;\n","export const createInputSpec = function (dataDescription, taskList) {\n  let localDataDescription = JSON.parse(dataDescription);\n\n  //This code is currently for files with 1 assembly\n  let fileIds = Object.keys(localDataDescription);\n  let assemblyBuilds = {}; //===Sequences in our terminology\n  let interconnection = {denseInterConnection:false,sparseInterConnection:false}\n\n\n  fileIds.forEach((fileId) => {\n    let inputConfigData = Object.assign({}, localDataDescription[fileId]);\n    let featureDescription = `${inputConfigData[\"granularity\"]}_${inputConfigData[\"availability\"]}`;\n    let assemblyBuildCounts = inputConfigData[\"assembly2\"] === \"N.A.\" ? 1 : 2;\n    \n    if(inputConfigData[\"fileType\"] === \"cooler\" || inputConfigData[\"fileType\"] === \"bedpe\")\n    {interconnection = checkInterconnection(inputConfigData,featureDescription)}\n  \n    for (\n      let assemblyIndex = 1;\n      assemblyIndex <= assemblyBuildCounts;\n      assemblyIndex++\n    ) {\n      if (\n        typeof assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]] ===\n        \"undefined\"\n      ) {\n        assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]] = {};\n        //add features\n        assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n          featureDescription\n        ] = {};\n        //add attributes\n        assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n          featureDescription\n        ][\"attributes\"] = {};\n        assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n          featureDescription\n        ][\"attributes\"] = inputConfigData[\"data\"];\n      } else {\n        //check features\n        if (\n          typeof assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n            featureDescription\n          ] === \"undefined\"\n        ) {\n          assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n            featureDescription\n          ] = {};\n          assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n            featureDescription\n          ][\"attributes\"] = {};\n          assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n            featureDescription\n          ][\"attributes\"] = inputConfigData[\"data\"];\n        } else {\n          let inputAttrCounts = inputConfigData[\"data\"];\n          let attrs =\n            assemblyBuilds[inputConfigData[\"assembly\" + assemblyIndex]][\n              featureDescription\n            ][\"attributes\"];\n\n          Object.keys(attrs).map((key) => {\n            return (attrs[key] += inputAttrCounts[key]);\n          });\n        }\n      }\n    }\n  });\n\n  let recommendationInputSpec = specStructure(assemblyBuilds,interconnection);\n  activateTasks(taskList, assemblyBuilds);\n  console.log(recommendationInputSpec)\n  return recommendationInputSpec\n};\n\nfunction specStructure(assemblyBuilds,interconnection) {\n\n  let sequences = []\n  let intraSequenceTask = {\"connectedNodes\":[],\"sequenceConservation\":[],\"edgeValues\":[]}\n  let denseConnection = interconnection.denseInterConnection\n  let sparseConnection = interconnection.sparseInterConnection\n\n\n  Object.keys(assemblyBuilds).map((val, index) => {\n    sequences.push(\n        getSequences(val, index, assemblyBuilds[val],interconnection)\n    );\n  });\n\nreturn {sequences,intraSequenceTask,denseConnection,sparseConnection};\n}\n\nfunction getSequences(seqName, seqid, data,featureConnection) {\n  let sequenceId = \"sequence_\" + seqid;\n  let sequenceName = seqName;\n  let interFeatureTasks = { compare: [], correlate: [] };\n  let features = Object.keys(data).map((featureName,index) => getFeatures(index,featureName,data[featureName],featureConnection));\n  return { sequenceId, sequenceName, interFeatureTasks, features };\n}\n\nfunction getFeatures(fId,fName,data,featureConnection) {\n  let featureId =\"feature_\"+fId;\n  let featureGranularity = fName.split(\"_\")[0].toLowerCase() ;\n  let featureDensity = fName.split(\"_\")[1].toLowerCase() ;\n  let featureLabel = fName;\n  let featureInterconnection = featureConnection[fName] !== undefined ? featureConnection[fName].featureInterconnection:false;\n  let denseInterconnection = featureConnection[fName] !== undefined ? featureConnection[fName].featureInterconnectionDense:false ;\n  let intraFeatureTasks = [];\n  let interactivity = true;\n  let attr = [] \n  let globalAttrIndex = 0\n  Object.keys(data[\"attributes\"]).map((attributeType) => {\n    \n    for(let i=0;i<data[\"attributes\"][attributeType];i++){\n        attr.push(getAttributes(globalAttrIndex,attributeType))\n        globalAttrIndex++\n    }\n    //getAttributes(attributeType)\n\n  })\n  \n  return {featureId,featureGranularity,featureDensity,featureLabel,featureInterconnection,denseInterconnection,intraFeatureTasks,interactivity,attr}\n}\n\nfunction getAttributes(id,type)\n{\n    let dataTypeMapping = {\"quant\":\"quantitative\",\"cat\":\"categorical\",\"text\":\"text\"}\n    let attrId = \"attribute_\"+id;\n    let dataType = dataTypeMapping[type];\n    let intraAttrTask = []\n    if(dataType===\"quantitative\") intraAttrTask.push(\"identify\")\n    else intraAttrTask.push(\"identify\")\n\n    return {attrId,dataType,intraAttrTask}\n}\n\nfunction activateTasks(taskList, assemblyBuilds) {\n  let assemblies = Object.keys(assemblyBuilds);\n  let attributes = [];\n  let features = assemblies.map((val) => {\n    var keys = Object.keys(assemblyBuilds[val]);\n    keys.forEach((feature) => {\n      attributes.push(assemblyBuilds[val][feature]);\n    });\n    return keys;\n  });\n  let assemblyCount = assemblies.length;\n  let featureCountMax = features.reduce(\n    (r, e) => (r = r.length > e.length ? r.length : e.length),\n    []\n  );\n  let attributeCountMax = Math.max(\n    ...attributes.map(\n      (val) =>\n        val[\"attributes\"][\"quant\"] +\n        val[\"attributes\"][\"cat\"] +\n        val[\"attributes\"][\"text\"]\n    )\n  );\n\n  taskList.forEach((task) => {\n    let taskAssemblyReq = task[\"minAssembly\"];\n    let featureReq = task[\"minFeature\"];\n    let attributeReq = task[\"minAttr\"];\n\n    if(assemblyCount>=taskAssemblyReq && featureCountMax>=featureReq && attributeCountMax>=attributeReq) \n    {task[\"disabled\"] = false}\n    else{\n        task[\"disabled\"] = true\n    }\n  });\n}\n\nfunction checkInterconnection (inputConfigData,featureDescription)\n{\n  let denseInterConnection = false\n  let sparseInterConnection = false\n  let featureInterconnection = false\n  let featureInterconnectionDense = false\n\n  // console.log(inputConfigData)\n\n  if(inputConfigData[\"fileType\"] === \"cooler\")\n  {\n      if(inputConfigData[\"fileType\"] === \"cooler\"  && (inputConfigData[\"assembly1\"]!==inputConfigData[\"assembly2\"])) {\n        denseInterConnection = true\n      }\n      else\n      {\n        featureInterconnection = true\n        featureInterconnectionDense =true\n      }\n  }\n\n  if(inputConfigData[\"fileType\"] === \"bedpe\")\n  {\n      if(inputConfigData[\"fileType\"] === \"bedpe\" && inputConfigData[\"interconnection\"] && (inputConfigData[\"assembly1\"]!==inputConfigData[\"assembly2\"])) {\n        sparseInterConnection = true\n      }\n      else if(inputConfigData[\"fileType\"] === \"bedpe\" && inputConfigData[\"interconnection\"]){\n        featureInterconnection = true\n        featureInterconnectionDense =false\n      }\n      else{\n        featureInterconnection = false\n        featureInterconnectionDense = false\n      }\n  }\n  \n  // console.log({denseInterConnection,sparseInterConnection,[featureDescription]:{featureInterconnection,featureInterconnectionDense}})\n  return {denseInterConnection,sparseInterConnection,[featureDescription]:{featureInterconnection,featureInterconnectionDense}}\n}\n","export const inputFileFormats = {\n  bigwig: 0,\n  bed: 0,\n  bedpe: 0,\n  seg: 0,\n  vcf: 0,\n  cooler: 0,\n};\n\nexport const colorScheme = {\n  bed: \"w3-deep-orange\",\n  bedpe: \"w3-teal\",\n  bigwig: \"w3-khaki\",\n  seg: \"w3-amber\",\n  vcf: \"w3-blue-gray\",\n  cooler: \"w3-cyan\",\n};\n\nexport const fileInputFieldsActive = {\n  bed: {\n    assembly1: true,\n    assembly2: false,\n    interconnection: false,\n    granularity: false,\n    availability: false,\n    data: true,\n  },\n  bedpe: {\n    assembly1: true,\n    assembly2: true,\n    interconnection: true,\n    granularity: false,\n    availability: false,\n    data: true,\n  },\n  bigwig: {\n    assembly1: true,\n    assembly2: false,\n    interconnection: false,\n    granularity: true,\n    availability: false,\n    data: false,\n  },\n  cooler: {\n    assembly1: true,\n    assembly2: true,\n    interconnection: false,\n    granularity: true,\n    availability: false,\n    data: false,\n  },\n  seg: {\n    assembly1: true,\n    assembly2: false,\n    interconnection: false,\n    granularity: false,\n    availability: true,\n    data: false,\n  },\n  vcf: {\n    assembly1: true,\n    assembly2: false,\n    interconnection: false,\n    granularity: true,\n    availability: false,\n    data: true,\n  },\n};\n\nexport const defaultInputForFiles = {\n  bed: {\n    assembly1: \"hg38\",\n    assembly2: \"N.A.\",\n    interconnection: false,\n    granularity: \"Segment\",\n    availability: \"Sparse\",\n    data: { quant: 1, cat: 0, text: 0 },\n    fileType:\"bed\"\n  },\n  bedpe: {\n    assembly1: \"hg38\",\n    assembly2: \"hg38\",\n    interconnection: true,\n    granularity: \"Segment\",\n    availability: \"Sparse\",\n    data: { quant: 1, cat: 0, text: 0 },\n    fileType:\"bedpe\"\n  },\n  bigwig: {\n    assembly1: \"hg38\",\n    assembly2: \"N.A.\",\n    interconnection: false,\n    granularity: \"Point\",\n    availability: \"Continous\",\n    data: { quant: 1, cat: 0, text: 0 },\n    fileType:\"bigwig\"\n  },\n  cooler: {\n    assembly1: \"hg38\",\n    assembly2: \"hg38\",\n    interconnection: true,\n    granularity: \"Segment\",\n    availability: \"Continous\",\n    data: { quant: 1, cat: 0, text: 0 },\n    fileType:\"cooler\"\n  },\n  seg: {\n    assembly1: \"hg38\",\n    assembly2: \"N.A.\",\n    interconnection: false,\n    granularity: \"Segment\",\n    availability: \"Sparse\",\n    data: { quant: 1, cat: 0, text: 0 },\n    fileType:\"seg\"\n  },\n  vcf: {\n    assembly1: \"hg38\",\n    assembly2: \"N.A.\",\n    interconnection: false,\n    granularity: \"Segment\",\n    availability: \"Sparse\",\n    data: { quant: 1, cat: 0, text: 0 },\n    fileType:\"vcf\"\n  },\n};\n\nexport const taskList = [\n  { task: \"singleroi\", taskLabel: \"Identify Single ROI\", image: \"singleroi.png\", taskInfo:\"You will need atleast 1 assembly build and 1 attribute.\", disabled:true, minAssembly:1, minFeature:1 ,minAttr:1, selected: false },\n  { task: \"multipleroi\", taskLabel: \"Compare Multiple ROI\", image: \"multipleroi.png\", taskInfo:\"You will need atleast 1 assembly build and 1 attribute.\",disabled:true, minAssembly:1,minFeature:1,minAttr:1,selected: false },\n  { task: \"multipleattributes\", taskLabel: \"Compare Multiple Attributes\", image: \"multipleattributes.png\",taskInfo:\"You will need atleast 1 assembly build and 2 attributes.\",disabled:true, minAssembly:1,minFeature:1,minAttr:2,selected: false },\n  { task: \"multiplefeatures\", taskLabel: \"Compare Multiple Features\", image: \"multifeatures.png\", taskInfo: \"You will need atleast 1 assembly build and 2 features.\",disabled:true,  minAssembly:1,minFeature:2,minAttr:1,selected: false },\n  { task: \"multiplesequences\", taskLabel: \"Compare Multiple Sequences\", image: \"multisequences.png\", taskInfo: \"You will need atleast 2 assembly builds.\",disabled:true, minAssembly:2, minFeature:1, minAttr:1,selected: false }\n  // { task: \"overview\", taskLabel: \"Explore Sequences\", image: \"summarize.png\", taskInfo: \"Default task which supports exploration of data.\",disabled:false,minAssembly:1, minFeature:1, minAttr:1,selected: false},\n]\n;\n\nexport default {\n  inputFileFormats: inputFileFormats,\n  colorScheme: colorScheme,\n  fileInputFieldsActive: fileInputFieldsActive,\n  defaultInputForFiles: defaultInputForFiles,\n  taskList: taskList\n};\n","import React from \"react\";\n\nexport const createDropDownList = (disabledVal, fileid, defaultValue, componentid ,onChangeAssemblyBuild) => {\n  let buildNames;\n  if (!disabledVal) {\n    buildNames = [\"hg38\", \"hg19\", \"hg17\", \"hg16\", \"mm10\", \"mm9\"];\n  } else {\n    buildNames = [\"N.A.\"];\n  }\n\n  let handleChangeEvent =  function(event) {\n    onChangeAssemblyBuild(fileid,componentid,event.target.value)\n  }\n\n  return (\n    <>\n      <select\n        className=\"w3-select\"\n        disabled={disabledVal}\n        name={fileid}\n        id={fileid+componentid}\n        onChange={handleChangeEvent}\n      >\n        {buildNames.map((val) => (\n          <option key={val} value={val}>\n            Assembly Build: {val}\n          </option>\n        ))}\n      </select>\n    </>\n  );\n};\n\nexport const createNetworkInput = (defaultValue,fileid,componentid,onChangeFileDataUpdate) => {\n  let noNetworkSelected = \"\"\n  let networkSelected = \"\"\n  if (defaultValue) {\n    networkSelected = \"selected\"\n  } else {\n    noNetworkSelected = \"selected\"\n  }\n\n  let handleOnClick = function(event){\n    if(event.target.name === \"nonetwork\"){\n      let partialid = fileid+componentid\n      let selectedid = partialid+event.target.name\n      let unselectedid = partialid+\"network\"\n      document.getElementById(selectedid).setAttribute(\"class\",\"w3-round selected\")\n      document.getElementById(unselectedid).setAttribute(\"class\",\"w3-round\")\n    }\n    else{\n      let partialid = fileid+componentid\n      let selectedid = partialid+event.target.name\n      let unselectedid = partialid+\"nonetwork\"\n      document.getElementById(selectedid).setAttribute(\"class\",\"w3-round selected\")\n      document.getElementById(unselectedid).setAttribute(\"class\",\"w3-round\")\n    }\n    let updatedValue = event.target.name === \"nonetwork\"? false:true\n    onChangeFileDataUpdate(fileid,componentid,updatedValue)\n  }\n  return (\n    <>\n    <div className={\"w3-center w3-margin-top w3-hover-opacity w3-third\"}>\n        <p> Connection <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i> </p>\n      </div>\n      <div className={\"w3-center w3-hover-opacity w3-third\"}>\n        <img\n          src={require(\"../assets/interconnection_none.png\")}\n          className={\"w3-round \"+noNetworkSelected}\n          name=\"nonetwork\"\n          id={fileid+componentid+\"nonetwork\"}\n          alt=\"no network\"\n          onClick={handleOnClick}\n        />\n        <p> No </p>\n      </div>\n      <div className=\"w3-center w3-third\">\n        <img\n          src={require(\"../assets/interconnection_between.png\")}\n          className={\"w3-round \"+networkSelected}\n          name=\"network\"\n          id={fileid+componentid+\"network\"}\n          onClick={handleOnClick}\n          alt=\"network\"\n        />\n        <p> Yes </p>\n      </div>\n    </>\n  );\n};\n\nexport const createGranularityInput = (granularity,fileid,componentid,onChangeFileDataUpdate) => {\n  let pointSelected = {};\n  let segmentSelected = {};\n  if (granularity === \"Point\") {\n    pointSelected=\"selected\"\n  } else {\n    segmentSelected=\"selected\"\n  } \n\n  let handleOnClick = function(event){\n    if(event.target.name === \"Point\"){\n      let partialid = fileid+componentid\n      let selectedid = partialid+event.target.name\n      let unselectedid = partialid+\"Segment\"\n      document.getElementById(selectedid).setAttribute(\"class\",\"w3-round selected\")\n      document.getElementById(unselectedid).setAttribute(\"class\",\"w3-round\")\n    }\n    else{\n      let partialid = fileid+componentid\n      let selectedid = partialid+event.target.name\n      let unselectedid = partialid+\"Point\"\n      document.getElementById(selectedid).setAttribute(\"class\",\"w3-round selected\")\n      document.getElementById(unselectedid).setAttribute(\"class\",\"w3-round\")\n    }\n    let updatedValue = event.target.name === \"Point\"? \"Point\":\"Segment\"\n    onChangeFileDataUpdate(fileid,componentid,updatedValue)\n\n  }  \n\n  return (\n    <>\n     <div className={\"w3-center w3-margin-top w3-hover-opacity w3-third\"}>\n        <p> Feature Type 1 <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i> </p>\n        {/* <p> Granularity </p> */}\n      </div>\n      <div  className=\"w3-center w3-hover-opacity w3-third\">\n        <img\n          src={require(\"../assets/pointsparse.png\")}\n          className={\"w3-round \"+pointSelected}\n          id={fileid+componentid+\"Point\"}\n          alt=\"point\"\n          onClick={handleOnClick}\n          name=\"Point\"\n        ></img>\n        <p> Point </p>\n      </div>\n      <div className=\"w3-center w3-hover-opacity w3-third\">\n        <img\n          src={require(\"../assets/segmentcontiguous.png\")}\n          className={\"w3-round \"+segmentSelected}\n          id={fileid+componentid+\"Segment\"}\n          alt=\"segment\"\n          onClick={handleOnClick}\n          name=\"Segment\"\n        />\n        <p> Segment </p>\n      </div>\n    </>\n  );\n};\n\nexport const createAvailablityInput = (availability,fileid,componentid,onChangeFileDataUpdate) => {\n  let continousSelected = \"\";\n  let sparseSelected = \"\";\n  if (availability === \"Sparse\") {\n    sparseSelected = \"selected\";\n  } else {\n    continousSelected = \"selected\";\n  }\n\n  let handleOnClick = function(event){\n    if(event.target.name === \"Sparse\"){\n      let partialid = fileid+componentid\n      let selectedid = partialid+event.target.name\n      let unselectedid = partialid+\"Continous\"\n      document.getElementById(selectedid).setAttribute(\"class\",\"w3-round selected\")\n      document.getElementById(unselectedid).setAttribute(\"class\",\"w3-round\")\n    }\n    else{\n      let partialid = fileid+componentid\n      let selectedid = partialid+event.target.name\n      let unselectedid = partialid+\"Sparse\"\n      console.log(unselectedid)\n      document.getElementById(selectedid).setAttribute(\"class\",\"w3-round selected\")\n      document.getElementById(unselectedid).setAttribute(\"class\",\"w3-round\")\n    }\n    let updatedValue = event.target.name === \"Sparse\"? \"Sparse\":\"Continous\"\n    onChangeFileDataUpdate(fileid,componentid,updatedValue)\n\n  }  \n  return (\n    <>\n         <div className={\"w3-center w3-margin-top w3-hover-opacity w3-third\"}>\n        <p> Feature Type 2 <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i> </p>\n      </div>\n      <div  className=\"w3-center w3-hover-opacity w3-third\">\n        <img\n          src={require(\"../assets/segmentsparse.png\")}\n          className={\"w3-round \"+sparseSelected}\n          alt=\"sparse\"\n          id={fileid+componentid+\"Sparse\"}\n          name=\"Sparse\"\n          onClick={handleOnClick}\n        />\n        <p> Sparse </p>\n      </div>\n      <div className=\"w3-center w3-hover-opacity w3-third\">\n        <img\n          src={require(\"../assets/pointcontiguous.png\")}\n          className={\"w3-round \"+continousSelected}\n          alt=\"continous\"\n          name=\"Continous\"\n          id={fileid+componentid+\"Continous\"}\n          onClick={handleOnClick}\n        />\n        <p> Contiguous </p>\n      </div>\n    </>\n  );\n};\n\nexport const createDataTypeInput = (dataTypeInput,fileid,componentid,onChangeAssemblyBuild) => {\n  \n  let handleChangeEvent = function(event) {\n    onChangeAssemblyBuild(fileid,componentid,event.target.value,event.target.name)\n  }\n  let quantVals=[1,0,2,3,4,5]\n  let textorcatVals=[0,1,2,3,4,5]\n\n  return (\n    <>\n      <div className=\"w3-center w3-third\">\n        {/* <input\n          disabled={dataTypeInput}\n          className=\" w3-input w3-border w3-center\"\n          type=\"number\"\n          name=\"dummy\"\n          onChange = {handleChangeEvent} \n          value = {\"1\"}\n        /> */}\n        <select\n        className=\"w3-center w3-padding w3-select\"\n        disabled={dataTypeInput}\n        name={\"quant\"}\n        id={fileid+componentid+\"quant\"}\n        onChange={handleChangeEvent}\n      >\n        {quantVals.map((val) => (\n          <option key={val} value={val}>\n            {val}\n          </option>\n        ))}\n      </select>\n      <p>Quant</p>\n\n      </div>\n      <div className=\"w3-center  w3-third\">\n        {/* <input\n          disabled={dataTypeInput}\n          className=\" w3-input w3-border w3-center\"\n          type=\"number\"\n          value={defaultValue[\"cat\"]}\n        /> */}\n               <select\n        className=\"w3-center w3-padding w3-select\"\n        disabled={dataTypeInput}\n        name={\"cat\"}\n        id={fileid+componentid+\"cat\"}\n        onChange={handleChangeEvent}\n      >\n        {textorcatVals.map((val) => (\n          <option key={val} value={val}>\n            {val}\n          </option>\n        ))}\n      </select>\n        \n        <p>Categorical</p>\n      </div>\n      <div className=\"w3-center w3-third\">\n        {/* <input\n          disabled={dataTypeInput}\n          className=\" w3-input w3-border w3-center\"\n          type=\"number\"\n          value={defaultValue[\"text\"]}\n        /> */}\n        <select\n        className=\"w3-center w3-padding w3-select\"\n        disabled={dataTypeInput}\n        name={\"text\"}\n        id={fileid+componentid+\"text\"}\n        onChange={handleChangeEvent}\n      >\n        {textorcatVals.map((val) => (\n          <option key={val} value={val}>\n            {val}\n          </option>\n        ))}\n      </select>\n        <p>Text</p>\n      </div>\n    </>\n  );\n};\n","import React from \"react\";\nimport Recommendation from \"../Recommendation/recommendation\";\nimport {createInputSpec} from \"./inputspec\"\nimport \"./Inputpage.css\";\nimport {\n  inputFileFormats,\n  // colorScheme,\n  fileInputFieldsActive,\n  defaultInputForFiles,\n  taskList,\n} from \"../global/globalvar\";\nimport {\n  createDropDownList,\n  createNetworkInput,\n  createGranularityInput,\n  createAvailablityInput,\n  createDataTypeInput,\n} from \"./createdomcomponents\";\n\nvar genorecEngine = require(\"genorec-engine\")\n\n\nclass Inputpage extends React.Component {\n  constructor(props) {\n    super(props);\n    // let recommendation = genorecEngine.getRecommendation(recommendationSpec)\n    // console.log(recommendation)\n    this.state = {\n      minFiles: 0,\n      maxFiles: 20,\n      totalFiles: 0,\n      dataCardsinRow: 4,\n      inputFileFormats,\n      inputConfigurationData: {},\n      showTaskPanel: false,\n      showRecommendation: false,\n      recommendationButtonString:\"Show Recommendation\",\n      recommendationNotPossible:true,\n      taskList: taskList,\n      selectedTaskOption:\"\",\n      orderedDataDescriptionBoxes: [[], [], [], [], []],\n      screenHeight: window.innerHeight,\n      recommendationInputSpec:{},\n      recommendationOutputSpec:{}\n    };\n    this.onChangeFileQuantity = this.onChangeFileQuantity.bind(this);\n    this.createDivForFileInput = this.createDivForFileInput.bind(this);\n    this.onChangeFileDataUpdate = this.onChangeFileDataUpdate.bind(this);\n    this.reAlignTheIndexes = this.reAlignTheIndexes.bind(this);\n    this.toggleTaskCardSelection = this.toggleTaskCardSelection.bind(this);\n    this.getRecommendationOutput = this.getRecommendationOutput.bind(this);\n    this.handleRecommendationClick = this.handleRecommendationClick.bind(this);\n    this.dataFileTypesAdded = [];\n    this.dataDescriptionBoxes = [];\n    this.finalRecommendationOutputSpec = {}\n  }\n\n  //Utility Functions\n  countTotalFiles(inputFileFormats) {\n    return Object.keys(inputFileFormats).reduce(\n      (sum, key) => sum + parseFloat(inputFileFormats[key] || 0),\n      0\n    );\n  }\n\n  getAllIndexes(arr, val) {\n    var indexes = [],\n      i;\n    for (i = 0; i < arr.length; i++) if (arr[i] === val) indexes.push(i);\n    return indexes;\n  }\n  //Utility Functions end\n\n  //Adding Dataset\n  onChangeFileQuantity(event) {\n    //Changed type and counts\n    let updatedFileType = event.target.name;\n    let updatedCount = event.target.value;\n    let currentDataConfigurationInput = this.state.inputConfigurationData;\n\n    //existing counts\n    let inputFileFormats = { ...this.state.inputFileFormats };\n\n    //Identify the current count for updated file\n    let currentCount = inputFileFormats[updatedFileType];\n\n    //Add or Remove Data Input Files\n    if (currentCount < updatedCount) {\n      for (\n        var index = parseInt(currentCount) + 1;\n        index <= updatedCount;\n        index++\n      ) {\n        let lengthOfAddedDatasets = Object.keys(currentDataConfigurationInput)\n          .length;\n        let orderedDataIndex = Math.floor(\n          lengthOfAddedDatasets / this.state.dataCardsinRow\n        );\n\n        this.dataFileTypesAdded.push(updatedFileType);\n        let fileid = \"\" + updatedFileType + index;\n        currentDataConfigurationInput[fileid] = JSON.parse(JSON.stringify(defaultInputForFiles[updatedFileType])) \n        this.dataDescriptionBoxes.push(\n          this.dataDescriptionBox(updatedFileType, fileid, index)\n        );\n\n        this.state.orderedDataDescriptionBoxes[orderedDataIndex].push(\n          this.dataDescriptionBox(updatedFileType, fileid, index)\n        );\n      }\n    } \n    else {\n      for (let index = currentCount; index > updatedCount; index--) {\n        let removeIndex = Math.max(\n          ...this.getAllIndexes(this.dataFileTypesAdded, updatedFileType)\n        );\n        let fileid = \"\" + updatedFileType + index;\n        delete currentDataConfigurationInput[fileid];\n        this.dataFileTypesAdded.splice(removeIndex, 1);\n\n        // document.querySelector(\"#\" + fileid).style.display = \"none\";\n\n        var elem = document.querySelector(\"#\" + fileid);\n        try{        \n          elem.remove();\n        }\n        catch(error){\n          console.log(elem)\n          console.error(error)\n        }\n        // this.dataDescriptionBoxes.splice(removeIndex, 1);\n\n        this.reAlignTheIndexes();\n      }\n    }\n\n    inputFileFormats[event.target.name] = event.target.value;\n\n    let showTaskPanel = this.dataFileTypesAdded.length > 0 ? true:false\n    let recommendationNotPossible = this.dataFileTypesAdded.length > 0 ? false:true\n\n    let recommendationOutput = this.getRecommendationOutput(currentDataConfigurationInput,this.state.taskList,this.countTotalFiles(inputFileFormats))\n\n    this.setState({\n      inputFileFormats: inputFileFormats,\n      inputConfigurationData: currentDataConfigurationInput,\n      showTaskPanel: showTaskPanel,\n      recommendationNotPossible,\n      recommendationInputSpec:recommendationOutput.recommendationInputSpec,\n      recommendationOutputSpec:recommendationOutput.recommendationOutputSpec,\n    }, ()=> console.log(this.state));\n  }\n\n  reAlignTheIndexes() {\n    let tempDescriptionBoxes = [];\n    this.state.orderedDataDescriptionBoxes.forEach(() => {\n      tempDescriptionBoxes.push([]);\n    });\n\n    for (let i = 0; i < this.dataDescriptionBoxes.length; i++) {\n      let rowIndex = Math.floor(i / this.state.dataCardsinRow);\n      tempDescriptionBoxes[rowIndex].push(this.dataDescriptionBoxes[i]);\n    }\n    this.setState({\n      orderedDataDescriptionBoxes: tempDescriptionBoxes,\n    });\n  }\n\n  onChangeFileDataUpdate(fileid, componentid, value, addtionalInput) {\n    let configurationData = this.state.inputConfigurationData;\n    console.log(fileid, componentid, value);\n    if (componentid === \"data\") {\n      configurationData[fileid][componentid][addtionalInput] = parseInt(value);\n    } else {\n      configurationData[fileid][componentid] = value;\n    }    \n\n\n  let recommendationOutput = this.getRecommendationOutput(configurationData,this.state.taskList,this.countTotalFiles(this.state.inputFileFormats))\n\n\n    this.setState({\n      inputConfigurationData: configurationData,\n      recommendationInputSpec:recommendationOutput.recommendationInputSpec,\n      recommendationOutputSpec:recommendationOutput.recommendationOutputSpec,\n      recommendationNotPossible:false\n        }, ()=> console.log(this.state));\n    console.log(this.state.inputConfigurationData)\n  }\n\n  getRecommendationOutput(input,task,fileCount)\n  {\n    let recommendationInputSpec = {}\n    let recommendationOutputSpec = {}\n    let currentRecommendationOutput = this.state.recommendationOutputSpec\n    console.log(currentRecommendationOutput)\n        \n    //Total File Count\n    if(fileCount>0)\n    {\n      recommendationInputSpec = createInputSpec(JSON.stringify(input), task)\n      recommendationOutputSpec = genorecEngine.getRecommendation(recommendationInputSpec)\n      if(currentRecommendationOutput[\"tasks\"] === undefined) recommendationOutputSpec[\"tasks\"] = [\"overview\"]\n      else recommendationOutputSpec[\"tasks\"] = currentRecommendationOutput[\"tasks\"].length === 0 ? [\"overview\"] : currentRecommendationOutput[\"tasks\"]\n     }\n\n     return {recommendationInputSpec,recommendationOutputSpec}\n  }\n\n  createDivForFileInput(name) {\n    return (\n      <>\n        <div className={\"w3-col l2 w3-margin-top w3-margin-bottom\"}>\n          <label>\n            {\" \"}\n            {/* <span className={\"dot \" + fileTypeColor}></span>{\" \"} */}\n            {name.toUpperCase()}\n          </label>\n          <input\n            className=\"w3-input w3-border w3-center\"\n            onChange={this.onChangeFileQuantity}\n            type=\"number\"\n            name={name}\n            value={this.state.inputFileFormats[name]}\n            min={this.state.minFiles}\n            max={this.state.maxFiles}\n          />\n        </div>\n      </>\n    );\n  }\n\n  dataDescriptionBox(fileType, fileid, id) {\n    let fileTypeToCaps = fileType.toUpperCase();\n    // let fileTypeColor = colorScheme[fileType];\n    let activeFields = fileInputFieldsActive[fileType];\n    let assembly1 = false;\n    let assembly2 = !activeFields[\"assembly2\"];\n    let interconnection = !activeFields[\"interconnection\"]\n      ? \"w3-opacity-max disabledClick\"\n      : \"\";\n    let granularity = !activeFields[\"granularity\"]\n      ? \"w3-opacity-max disabledClick\"\n      : \"\";\n    let availability = !activeFields[\"availability\"]\n      ? \"w3-opacity-max disabledClick\"\n      : \"\";\n    let dataTypeInput = !activeFields[\"data\"];\n    let dataTypeInputOpacity = !activeFields[\"data\"] ? \"w3-opacity-max\" : \"\";\n    let defaultValues = defaultInputForFiles[fileType];\n\n    return (\n      <>\n        <div\n          id={fileid}\n          className=\"w3-left w3-border-bottom w3-margin-bottom datadescriptioncard\"\n        >\n          {/* <div className={\"w3-container w3-margin w3-center \" + fileTypeColor}> */}\n          <div className={\"w3-container w3-margin w3-center w3-khaki\"}>\n            <h5>\n              {fileTypeToCaps} {id}\n            </h5>\n          </div>\n          {/* Assembly Build Dropdown 1 */}\n          <div className=\"w3-margin w3-row\">\n            <div className=\"w3-col s11 w3-center\">\n              {createDropDownList(\n                assembly1,\n                fileid,\n                defaultValues[\"assembly1\"],\n                \"assembly1\",\n                this.onChangeFileDataUpdate\n              )}\n            </div>\n            <div className=\"w3-col s1 w3-margin-top w3-margin-bottom w3-center\">\n            <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>\n            </div>\n          </div>\n          {/* Assembly Build Dropdown 1 */}\n          <div className=\"w3-margin w3-row\">\n            <div className=\"w3-col s11  w3-center\">\n              {createDropDownList(\n                assembly2,\n                fileid,\n                defaultValues[\"assembly2\"],\n                \"assembly2\",\n                this.onChangeFileDataUpdate\n              )}\n            </div>\n            <div className=\"w3-col s1 w3-margin-top w3-margin-bottom w3-center\">\n            <i class=\"fa fa-info-circle\" aria-hidden=\"true\"></i>\n            </div>\n          </div>\n          {/* Define the attributes */}\n          <div className={\"w3-margin w3-row \" + dataTypeInputOpacity}>\n            {createDataTypeInput(\n              dataTypeInput,\n              fileid,\n              \"data\",\n              this.onChangeFileDataUpdate\n            )}\n          </div>\n          {/* Feature Input */}\n          <div className={\"w3-margin w3-row \" + granularity}>\n            {createGranularityInput(\n              defaultValues[\"granularity\"],\n              fileid,\n              \"granularity\",\n              this.onChangeFileDataUpdate\n            )}\n          </div>\n          <div className={\"w3-margin w3-row \" + availability}>\n            {createAvailablityInput(\n              defaultValues[\"availability\"],\n              fileid,\n              \"availability\",\n              this.onChangeFileDataUpdate\n            )}\n          </div>\n          {/* Interconnection Radio Input */}\n          <div className={\"w3-margin w3-row \" + interconnection}>\n            {createNetworkInput(\n              defaultValues[\"interconnection\"],\n              fileid,\n              \"interconnection\",\n              this.onChangeFileDataUpdate\n            )}\n          </div>\n        </div>\n        <span></span>\n      </>\n    );\n  }\n\n  toggleTaskCardSelection(event)\n  {\n    \n    let targetId = event.target.id\n    let taskLists = this.state.taskList\n    let stateTaskVal = this.state.selectedTaskOption\n    let inputTaskVal = event.target.value\n\n    if(inputTaskVal === stateTaskVal) stateTaskVal = \"\"\n    else stateTaskVal = inputTaskVal\n\n    // taskLists.map(val =>{\n    //   if(!val[\"disabled\"]) {\n    //     let id = val[\"task\"]\n    //     if(targetId === id){\n    //       val[\"selected\"] = !val[\"selected\"]\n    //     }\n    //   }\n    // })\n\n    taskLists.map(val =>{\n      if(stateTaskVal === val[\"task\"]){\n          val[\"selected\"] = true\n        }\n      else val[\"selected\"] = false\n    })\n\n    \n\n    let selectedTaskFullSpec = taskLists.filter(val => val[\"selected\"])\n    let activeTasks = selectedTaskFullSpec.map(val => val[\"task\"])\n    console.log(activeTasks)\n    let recommendationOutputSpec = this.state.recommendationOutputSpec\n    if(activeTasks.length>0) recommendationOutputSpec[\"tasks\"] = activeTasks\n    else recommendationOutputSpec[\"tasks\"] = [\"overview\"]\n\n    this.setState({\n      taskList:taskLists,\n      selectedTaskOption: stateTaskVal,\n      recommendationOutputSpec,\n      recommendationNotPossible:false\n    }, ()=> console.log(this.state))\n  }\n\n  createTaskCards(val) {\n    let classNameVar = val[\"disabled\"] ? \"w3-opacity-max\" : \"\";\n    let selectedClass = val[\"selected\"] ? \"selected\": \"\"\n    return (\n      <>\n        <div\n          className={`w3-display-container w3-margin-top w3-light-grey w3-row w3-center ${classNameVar} ${selectedClass}`}\n          // id={val[\"task\"]}\n          // onClick = {this.toggleTaskCardSelection}\n        >\n          <div className=\"w3-quarter w3-margin-top w3-margin-bottom\">  \n          <label>\n            <input\n              type=\"checkbox\"\n              value= {val[\"task\"]}\n              id={val[\"task\"]}\n              className=\"w3-check\"\n              checked={this.state.selectedTaskOption === val[\"task\"]}\n              onChange={this.toggleTaskCardSelection}\n            />\n          </label>    \n          <h5> {val[\"taskLabel\"]}</h5>     \n        </div>\n          <div className=\"w3-quarter w3-margin-top\">\n          <img\n            id={val[\"task\"]}\n            className=\"taskimg\"\n            src={require(\"../assets/\" + val[\"image\"])}\n            alt={val[\"task\"]}\n          /> \n             </div>\n          <div className=\"w3-half w3-margin-top w3-margin-bottom\">  <p> {val[\"taskInfo\"]}</p> </div>\n        </div>\n      </>\n    );\n  }\n\n  createHTMLLayoutTasks(input)\n  {\n    let allCards = []\n\n    input.forEach(val =>{\n      allCards.push(this.createTaskCards(val))\n    })\n    return allCards\n  }\n\n  handleRecommendationClick()\n  {\n    // let showRecommendation = this.state.showRecommendation ? true: true\n    this.finalRecommendationOutputSpec =  JSON.parse(JSON.stringify(this.state.recommendationOutputSpec))\n    this.setState({\n      showRecommendation:true,\n      recommendationNotPossible:true\n    }, ()=> console.log(this.state))\n  }\n\n  render() {\n    const fileFormatDivs = [];\n\n    const taskCards = this.createHTMLLayoutTasks(this.state.taskList);\n\n    for (let value of Object.keys(this.state.inputFileFormats)) {\n      fileFormatDivs.push(this.createDivForFileInput(value));\n    }\n    return (\n      <>\n        <div className=\"w3-row\">\n          <div className=\"w3-display-container w3-padding w3-margin\">\n            <div className=\"w3-row w3-center\">\n              <div className=\"w3-half\">\n                <div className=\"w3-row\">\n                  <div className=\"w3-center w3-padding\">\n                    <h3>\n                      {\" \"}\n                      <i className=\"fa fa-table w3-margin-right\"></i> Data\n                      Description{\" \"}\n                      {/* <i className=\"fa fa-info-circle w3-margin-right\"></i> */}\n                    </h3>\n                  </div>\n                </div>\n\n                <div className=\"w3-row\">\n                  <div className=\"w3-display-container w3-margin\">\n                    <div className=\"w3-center w3-light-gray  w3-col\">\n                      <div className=\"w3-container  w3-light-blue\">\n                        <h5>Dataset Formats</h5>\n                      </div>\n                      <div className=\"w3-row-padding\">{fileFormatDivs}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"w3-row datadescription\">\n                  {\n                  this.dataDescriptionBoxes\n                  }\n                  {/* {this.state.orderedDataDescriptionBoxes.map((val, index) => {\n                    return <div className=\"w3-row\">{val}</div>;\n                  })} */}\n                </div>\n\n                <div\n                  className=\"taskcards\"\n                  style={{ display: this.state.showTaskPanel ? \"\" : \"none\" }}\n                >\n                  <div className=\"w3-row w3-margin-top\">\n                    <div className=\"w3-center  w3-padding\">\n                      <h3>\n                        {\" \"}\n                        <i className=\"fa fa-tasks w3-margin-right\"></i> Task\n                        Description{\" \"}\n                        {/* <i className=\"fa fa-info-circle w3-margin-right\"></i> */}\n                      </h3>\n                    </div>\n                  </div>\n\n                  <div className=\"w3-row\">{taskCards}</div>\n                </div>\n          \n              </div>\n\n              <div className=\"w3-half\">\n                <div className=\"w3-row\">\n                  <div className=\"w3-row w3-display-container\">\n                    <div className=\"w3-center w3-padding\">\n                      <h3>\n                        <i className=\"fa fa-th-list w3-margin-right\"></i>{\" \"}\n                        Recommendation{\" \"}\n                      </h3>\n                      <button className=\"notification\" onClick={this.handleRecommendationClick} className=\"w3-button w3-indigo\" disabled={this.state.recommendationNotPossible}>\n                          {this.state.recommendationButtonString} {\" \"}\n                      </button>\n                    </div>\n                  </div>\n                  <div className=\"w3-row w3-center w3-display-container w3-margin\">\n                    <Recommendation className=\"w3-center\" data={this.finalRecommendationOutputSpec} width={800}/>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Inputpage;\n","import React from 'react';\nimport \"./Inputpage/Inputpage\"\nimport './App.css';\nimport Inputpage from './Inputpage/Inputpage';\n\nclass App extends React.Component{ \n\n  constructor(props) {\n    super(props);\n    this.state = {currentState:0,\"displayComponent\":\"Dataspec\"};\n    \n    this.nextState = this.nextState.bind(this)\n  }\n\n  nextState(){\n\n    this.setState({\"currentState\":this.state.currentState+1})\n\n    if(this.state.currentState === 0){\n      this.setState({\"displayComponent\":\"Dataspec\"})\n    }\n\n    if(this.state.currentState === 1){\n      this.setState({\"displayComponent\":\"Encoding\"})\n    }\n  }\n  \n\n render(){\n  return (\n    <div className=\"App\">\n      <Header className=\"Header\"/>\n      <Inputpage />\n      <Footer />\n    </div>\n  );\n}\n}\n\nfunction Header(){\n  return(\n    <>\n     <div className=\"w3-bar w3-white w3-border-bottom w3-xlarge\">\n     <a  className=\"w3-bar-item w3-button w3-text-red w3-hover-red\"><b><i className={\"fa fa-th-list w3-margin-right\"}></i>GenoRec</b></a>\n    </div>\n    </>\n  )\n}\n\nfunction Footer(){\n  return (\n  <>\n  <div style={{clear:\"both\"}} className=\"w3-container w3-center w3-border-top w3-opacity w3-margin-top\">\n  <h5>MIT License</h5>\n  <p>Created by <a href=\"https://www.aditeyapandey.com/\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"w3-hover-text-green\">Aditeya Pandey</a></p>\n </div>\n  </>\n  )\n}\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\"\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}